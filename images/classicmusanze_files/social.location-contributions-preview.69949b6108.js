($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/social.location-contributions-preview",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","lithium-platform","@ta/social.scroll","@ta/social.socialproof","@ta/hotels.review-list-parts","@ta/location-review.review-list-state","ta-common","@ta/common.text","@ta/social.member-common"],e:["./packages/social/location-contributions-preview/location-contributions-preview.jsx"],x:{"./packages/social/location-contributions-preview/contribution-preview.jsx":["b","a"],"./packages/social/location-contributions-preview/contribution-preview.less":["a"],"./packages/social/location-contributions-preview/location-contributions-preview.jsx":["createSSRQuery","default"]},m:{"./node_modules/webpack/buildin/global.js":function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},"./packages/social/location-contributions-preview/contribution-preview.jsx":function(e,t,i){"use strict";(function(e){i.d(t,"b",function(){return m});var o=i("@babel/runtime/helpers/esm/defineProperty"),n=i.n(o),r=i("react"),a=i("react-redux"),c=i("@ta/hotels.review-list-parts"),l=i("@ta/location-review.review-list-state"),s=i("@ta/common.i18n"),u=i("@ta/styleguide.avatar"),p=i("@ta/common.text"),v=i("@ta/social.member-common"),b=i("@ta/styleguide.bubble-rating"),w=i("./packages/social/location-contributions-preview/contribution-preview.less"),m=function t(i,o){return e.require(["trjs!ta/Core/TA.FireEvent"],function(e){e.fireEvent("enableFriendReviewSort"),e.fireEvent("TabHeader_clickTab",document.getElementById("TABS_REVIEWS"),300),e.fireEvent("TabHeaderWC_clickTab","REVIEWS")}),i(),o(),!1};t.a=Object(a.connect)(function(){return{}},{setReviewsSort:function e(){return c.REVIEW_LIST_ACTIONS.setPrefs(n()({},c.PREF_NAME_SORTTYPE,c.REVIEW_SORT_CONNECTIONS_FIRST))},setLocationReviewsSort:function e(){return l.ACTIONS.setPrefs(n()({},c.PREF_NAME_SORTTYPE,c.REVIEW_SORT_CONNECTIONS_FIRST))}})(function e(t){var i=t.contribution,o=t.placeName,n=t.setChild,a=t.viewPortCategory,c=t.setReviewsSort,l=t.setLocationReviewsSort;if(!(i&&i.contributionReviewText&&i.contributionReviewText.text&&i.userDisplayInformation))return null;var _=i.userDisplayInformation,d=_.fullname?_.fullname:_.username,f=[{url:_.avatarUrl,width:100,height:100}],E="MOBILE"===a?"default":"large",T="MOBILE"===a?4:3,R=r.createElement(u.Avatar,{withBorder:!0,size:E,photo:{photoSizes:f},className:w.a.avatarWrapper}),S=r.createElement(p.ReadMore,{customCssClass:w.a.readMoreWrapper,numLinesToShow:T,initialDivHeight:18*T,clickCallback:function e(){return m(c,l)}},r.createElement("span",{className:w.a.bubbleRatingWrap},r.createElement(b.BubbleRating,{rating:i.rating})),i.contributionReviewText.text),N=r.createElement("div",{className:w.a.reviewTitle},o?Object(s.unescaped)(Object(s.localize)("user_reviewed_geo",{name_class:w.a.reviewTitleName,userName:d,geoName:o})):Object(s.unescaped)(Object(s.localize)("user_reviewed_this_hotel",{name_class:w.a.reviewTitleName,userName:d})));return r.createElement("div",{className:w.a.wrapper,ref:n},r.createElement("div",{className:w.a.fakeSection},"MOBILE"===a?r.createElement(r.Fragment,null,r.createElement("div",{className:w.a.avatarUserNameWrapper},r.createElement("div",null,R),r.createElement("div",null,N,r.createElement(v.MemberStatsBasic,{profile:_.userProfile}))),S):r.createElement(r.Fragment,null,r.createElement("div",null,R),r.createElement("div",null,N,r.createElement(v.MemberStatsBasic,{profile:_.userProfile,singleLine:!0}),S))))})}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./packages/social/location-contributions-preview/contribution-preview.less":function(e,t,i){"use strict";t.a={avatarWrapper:"social-location-contributions-preview-contribution-preview__avatarWrapper--3V2Cg",readMoreWrapper:"social-location-contributions-preview-contribution-preview__readMoreWrapper--1UwLY",reviewTitle:"social-location-contributions-preview-contribution-preview__reviewTitle--2gOZZ",reviewTitleName:"social-location-contributions-preview-contribution-preview__reviewTitleName--p7i8w",avatarUserNameWrapper:"social-location-contributions-preview-contribution-preview__avatarUserNameWrapper--3Sj5V",bubbleRatingWrap:"social-location-contributions-preview-contribution-preview__bubbleRatingWrap--2NbbL",wrapper:"social-location-contributions-preview-contribution-preview__wrapper--IHILx",fakeSection:"social-location-contributions-preview-contribution-preview__fakeSection--19VVr"}},"./packages/social/location-contributions-preview/location-contributions-preview.jsx":function(e,t,i){"use strict";i.r(t);var o=i("@babel/runtime/helpers/esm/defineProperty"),n=i.n(o),r=i("react"),a=i("react-redux"),c=i("@ta/common.i18n"),l=i("@ta/social.scroll"),s=i("@ta/social.socialproof"),u=i("@ta/hotels.review-list-parts"),p=i("@ta/location-review.review-list-state"),v=i("./packages/social/location-contributions-preview/contribution-preview.jsx");i.d(t,"createSSRQuery",function(){return b});var b=function e(t,i,o){return Object(s.createContributionsQuery)(t,{locationId:i,placeType:o})};t.default=Object(a.connect)(function(e){return{viewPortCategory:e.meta.device.viewportCategory}},{setReviewsSort:function e(){return u.REVIEW_LIST_ACTIONS.setPrefs(n()({},u.PREF_NAME_SORTTYPE,u.REVIEW_SORT_CONNECTIONS_FIRST))},setLocationReviewsSort:function e(){return p.ACTIONS.setPrefs(n()({},u.PREF_NAME_SORTTYPE,u.REVIEW_SORT_CONNECTIONS_FIRST))}})(function e(t){var i=t.locationId,o=t.placeType,n=t.viewPortCategory,a=t.setReviewsSort,u=t.setLocationReviewsSort;return r.createElement(s.LocationContributionsPoller,{locationId:i,placeType:o},function(e,t){if(t||!e)return null;var i=e.connectionContributions.contributionsByLocation[0],s=i.userReviewContributions.map(function(e){return e.userDisplayInformation}).filter(function(e,t,i){return t===i.findIndex(function(t){return t.userId===e.userId})}).length-1,p=e.locations&&e.locations[0]&&e.locations[0].name,b="ACCOMMODATION"===o;return r.createElement("div",{className:"social-location-contributions-preview-location-contributions-preview__container--y1yuH",id:"CONTRIBPREVIEW"},r.createElement("div",{style:{position:"relative"}},r.createElement(l.ScrollAffordance,{top:!1,bottom:!1,className:"".concat("social-location-contributions-preview-location-contributions-preview__carousel--Ej0ZY"),threshold:100,minDistance:50,snapToEdge:{left:0,top:0,bottom:0,right:100},shift:{right:{top:16},left:{top:16}}},function(e){return i.userReviewContributions.map(function(t,i){return r.createElement(v.a,{contribution:t,placeName:!b&&p?p:null,setChild:e(i),viewPortCategory:n,key:t.reviewId})})})),s>0&&p?r.createElement("div",{className:"social-location-contributions-preview-location-contributions-preview__moreConnections--3bk1P",onClick:function e(){return Object(v.b)(a,u)}},r.createElement("span",{className:"social-location-contributions-preview-location-contributions-preview__numConnectionsVisited--13YG1"},function e(t,i){return"AIRLINE"===o?Object(c.unescaped)(Object(c.localize)("num_connections_flew_with_link",{numConnections:t,POI:i,link_class:"social-location-contributions-preview-location-contributions-preview__linkColoring--3A6bW"})):Object(c.unescaped)(Object(c.localize)("num_connections_visited_poi_with_link",{numConnections:t,POI:i,link_class:"social-location-contributions-preview-location-contributions-preview__linkColoring--3A6bW"}))}(s,p))):null)})})}}});
//# sourceMappingURL=social.location-contributions-preview.69949b6108.js.map
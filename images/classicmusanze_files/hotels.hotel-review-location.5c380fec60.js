($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/hotels.hotel-review-location",d:["vendor-babel","vendor-react-libs","ta-platform","lithium-platform","@ta/styleguide.skeleton","@ta/common.grid","@ta/hotels.hotel-review-layout","@ta/public.business-listing","@ta/public.ride-service-callout","ta-common","@ta/common.text","vendor-apollo-libs","vendor-redux-libs","@ta/events.window-resize","@ta/maps.snapshot","@ta/overlays.tooltip"],e:["./packages/hotels/hotel-review-location/hotel-review-location.jsx"],x:{"./packages/hotels/hotel-review-location/hotel-review-location.jsx":["default","ssrQueries"]},m:{"./packages/hotels/hotel-review-location/hotel-review-location.jsx":function(e,t,n){"use strict";n.r(t);var a=n("@babel/runtime/helpers/esm/objectSpread"),i=n.n(a),l=n("@babel/runtime/helpers/esm/classCallCheck"),r=n.n(l),o=n("@babel/runtime/helpers/esm/createClass"),c=n.n(o),s=n("@babel/runtime/helpers/esm/possibleConstructorReturn"),d=n.n(s),u=n("@babel/runtime/helpers/esm/getPrototypeOf"),m=n.n(u),v=n("@babel/runtime/helpers/esm/inherits"),k=n.n(v),p=n("@babel/runtime/helpers/esm/assertThisInitialized"),g=n.n(p),h=n("@babel/runtime/helpers/esm/defineProperty"),b=n.n(h),N=n("react"),y=n("@ta/common.api"),_=n("@ta/common.i18n"),f=n("@ta/common.classnames"),I=n.n(f),E=n("@ta/styleguide.skeleton"),w=n.n(E),S=n("@ta/common.grid"),C=n("@ta/hotels.hotel-review-layout"),A=n("@ta/common.features"),L=function e(t){return N.createElement("div",{className:I()("ui_column is-4","hotels-hotel-review-location-layout-LocationColumn__locationColumn--kANeS")},t.children)},T=function e(t){var n=t.children,a=t.title;return N.createElement(N.Fragment,null,N.createElement("div",{className:"hotels-hotel-review-location-layout-SubSection__title--4W3t8"},a),n)},F=n("@ta/overlays.tooltip"),O=n.n(F),M=n("@ta/common.tracking"),R=n.n(M),U=n("@ta/styleguide.icon"),j=n("react-apollo"),V=n("@ta/public.business-listing"),D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NearbyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nearbyLocationIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"centerPoint"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GeoPointInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGQForAirports"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isMobile"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"servletName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isSponsoredAttribution"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnitLengthInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useHPS"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"currentLocation"},name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyAttractionsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ATTRACTION"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyHotelsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"HOTEL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"nearbyRestaurantsUrl"},name:{kind:"Name",value:"locationsNearUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"RESTAURANT"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"businessAdvantage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"isMobile"},value:{kind:"Variable",name:{kind:"Name",value:"isMobile"}}},{kind:"Argument",name:{kind:"Name",value:"commerceCountryId"},value:{kind:"Variable",name:{kind:"Name",value:"commerceCountryId"}}},{kind:"Argument",name:{kind:"Name",value:"servletName"},value:{kind:"Variable",name:{kind:"Name",value:"servletName"}}},{kind:"Argument",name:{kind:"Name",value:"isSponsoredAttribution"},value:{kind:"Variable",name:{kind:"Name",value:"isSponsoredAttribution"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContactBaFields"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyTransit"},name:{kind:"Name",value:"nearby"},arguments:[{kind:"Argument",name:{kind:"Name",value:"radius"},value:{kind:"FloatValue",value:"1.0"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}},{kind:"ObjectField",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}}]}},{kind:"Argument",name:{kind:"Name",value:"locationFilter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"placeType"},value:{kind:"EnumValue",value:"METRO_STATION"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NearbyLocations"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyAirports"},name:{kind:"Name",value:"nearestAirports"},arguments:[{kind:"Argument",name:{kind:"Name",value:"radius"},value:{kind:"FloatValue",value:"50.0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useGQForAirports"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportLocationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"nearbyLocations"},name:{kind:"Name",value:"locationsWithDistance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"Variable",name:{kind:"Name",value:"nearbyLocationIds"}}},{kind:"Argument",name:{kind:"Name",value:"fromPoint"},value:{kind:"Variable",name:{kind:"Name",value:"centerPoint"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPS"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StandardLocationInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attraction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L2_CATEGORY"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L3_TYPE"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Restaurant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cuisines"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CUISINES"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hotels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"walkScore"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ContactBaFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationProductData"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactLinks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactLinkType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawPhone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emailParts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickTrackingUrl"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"encode"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"column"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StandardLocationInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocationInformation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"NearbyLocations"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Hotel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nearbyLocations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"distanceUnit"},value:{kind:"Variable",name:{kind:"Name",value:"distanceUnit"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"useHPS"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attractionCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceUnit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hotelCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restaurantCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distanceFromCenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StandardLocationInfo"},directives:[]},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Restaurant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cuisines"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CUISINES"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attraction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L2_CATEGORY"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagCategoryTypes"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"ATTRACTIONS_L3_TYPE"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagNameLocalized"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:3146}};D.loc.source={body:"59c47b16c08d"};var z=D,x={loading:!0,hasGeoCenter:!1,currentLocation:null,distanceRange:0,walkScore:null,hotels:[],restaurants:[],attractions:[],contacts:null,restaurantsCount:0,attractionsCount:0,nearbyAttractionsUrl:null,nearbyHotelsUrl:null,nearbyRestaurantsUrl:null,nearbyTransit:null,nearbyAirports:null},P=N.createContext(x),H=P.Consumer,B=P.Provider,G=function e(t){var n=t.locationId,a=t.placeType,i=t.name,l=t.latitude,r=t.longitude,o=t.distanceFromCenter,c=t.url,s=t.reviewSummary;return{locationId:n,placeType:a,name:i,latitude:l,longitude:r,distanceInMiles:o,url:c,rating:s?s.rating:0,reviewCount:s?s.count:0}},Y=function e(t){var n=t.locationId,a=t.nearbyLocationData,i=t.isMobile,l=t.commerceCountryId,r=t.servlet,o=t.sponsoredListingLocationIdAttribution,c=t.distanceUnit,s={latitude:a&&a.centerLatitude||0,longitude:a&&a.centerLongitude||0},d={locationId:n||0,nearbyLocationIds:a&&a.nearbyLocationIds||[],centerPoint:s,useGQForAirports:Object(A.featureIsEnabled)("USE_GQL_FOR_AIRPORTS"),isMobile:i,commerceCountryId:l,servletName:r,isSponsoredAttribution:o===n,useHPS:Object(A.featureIsEnabled)("hr_location_via_hps"),distanceUnit:c};return{query:z,errorPolicy:"all",variables:d,skip:!d.locationId||d.locationId<0}},Q=function e(t){var n=Y(t),a=t.children,l=t.nearbyLocationData;return N.createElement(j.Query,{query:n.query,variables:n.variables,errorPolicy:n.errorPolicy,skip:n.skip},function(e){var t,r=e.loading,o=e.data;if(r)t=x;else if(o&&o.currentLocation&&o.currentLocation[0]&&(o.nearbyLocations||o.currentLocation[0].detail&&o.currentLocation[0].detail.nearbyLocations||o.currentLocation[0].nearbyAirports)){var c=o.currentLocation[0];t={loading:r,hasGeoCenter:!1,distanceRange:0,walkScore:o.hotels&&o.hotels[0]?o.hotels[0].walkScore:null,currentLocation:G(o.currentLocation[0]),hotels:[],restaurants:[],attractions:[],nearbyAttractionsUrl:c.nearbyAttractionsUrl,nearbyHotelsUrl:c.nearbyHotelsUrl,nearbyRestaurantsUrl:c.nearbyRestaurantsUrl,nearbyTransit:c.nearbyTransit,nearbyAirports:c.nearbyAirports,contacts:c.businessAdvantage&&Object(V.remapContacts)(c.businessAdvantage.contactLinks||[]),restaurantsCount:0,attractionsCount:0},n.variables.useHPS&&c&&c.detail&&c.detail.nearbyLocations?(t.hasGeoCenter=!(!c.latitude||!c.longitude),t.distanceRange=c.detail.nearbyLocations.distanceRange||0,t.restaurantsCount=c.detail.nearbyLocations.restaurantCount||0,t.attractionsCount=c.detail.nearbyLocations.attractionCount||0,(c.detail.nearbyLocations.locationList||[]).forEach(function(e){if(e&&e.location)switch(e.placeType){case"ACCOMMODATION":t.hotels.push(G(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})));break;case"EATERY":t.restaurants.push(i()({},G(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})),{cuisines:e.location&&e.location.detail&&e.location.detail.cuisines||[]}));break;case"ATTRACTION":t.attractions.push(i()({},G(i()({},e.location,{distanceFromCenter:e.distanceFromCenter})),{category:e.location&&e.location.detail&&e.location.detail.category||[],type:e.location&&e.location.detail&&e.location.detail.type||[]}))}})):l&&o.nearbyLocations&&(t.distanceRange=l.distanceRange||0,t.hasGeoCenter=!(!l.centerLatitude||!l.centerLongitude),t.restaurantsCount=l.restaurantsCount||0,t.attractionsCount=l.attractionsCount||0,(o.nearbyLocations||[]).forEach(function(e){if(e)switch(e.placeType){case"ACCOMMODATION":t.hotels.push(G(e));break;case"EATERY":t.restaurants.push(i()({},G(e),{cuisines:e.detail&&e.detail.cuisines||[]}));break;case"ATTRACTION":t.attractions.push(i()({},G(e),{category:e.detail&&e.detail.category||[],type:e.detail&&e.detail.type||[]}))}}))}else t=i()({},x,{loading:!1});return N.createElement(B,{value:t},a)})},q=n("@babel/runtime/helpers/esm/slicedToArray"),W=n.n(q),K={orange:"hotels-hotel-review-location-layout-Highlight__orange--1N-BP",blue:"hotels-hotel-review-location-layout-Highlight__blue--2qc3K",green:"hotels-hotel-review-location-layout-Highlight__green--3lccI",wrapper:"hotels-hotel-review-location-layout-Highlight__wrapper--1Ome5",number:"hotels-hotel-review-location-layout-Highlight__number--S3wsZ",collapsible:"hotels-hotel-review-location-layout-Highlight__collapsible--1Ht-P",arrowIcon:"hotels-hotel-review-location-layout-Highlight__arrowIcon--1driA",icon:"hotels-hotel-review-location-layout-Highlight__icon--DYg-3"},X=function e(t){var n=t.number,a=t.children,i=t.color,l=t.icon,r=void 0===l?"":l,o=t.viewport,c=t.collapsedContent,s=N.useState(!0),d=W()(s,2),u=d[0],m=d[1],v=K[i];return"MOBILE"===o&&c?N.createElement("div",{className:I()(K.collapsible,"ui_column is-4"),onClick:function e(){return m(!u)}},N.createElement(U.Icon,{name:u?"caret-down":"caret-up",className:K.arrowIcon}),r&&N.createElement(U.Icon,{name:r,className:"".concat(K.icon," ").concat(v)}),N.createElement("span",{className:"".concat(K.number," ").concat(v)},n),a,c(u)):N.createElement("div",{className:I()(K.wrapper,"ui_column is-4")},N.createElement("span",{className:"".concat(K.number," ").concat(v)},n),a)},Z={tooltip:"hotels-hotel-review-location-Infographic__tooltip--FoMax",infoCircle:"hotels-hotel-review-location-Infographic__infoCircle--1Cfmm",title:"hotels-hotel-review-location-Infographic__title--1IDkR",orange:"hotels-hotel-review-location-Infographic__orange--1x9a-",blue:"hotels-hotel-review-location-Infographic__blue--3o2UL",green:"hotels-hotel-review-location-Infographic__green--5PNC9",collapsible:"hotels-hotel-review-location-Infographic__collapsible--f8k9N",subtitle:"hotels-hotel-review-location-Infographic__subtitle--3jxTl",walkscoreSubtitle:"hotels-hotel-review-location-Infographic__walkscoreSubtitle--2OY0F",text:"hotels-hotel-review-location-Infographic__text--c6Cri",nearbyLocations:"hotels-hotel-review-location-Infographic__nearbyLocations--2CA59",hidden:"hotels-hotel-review-location-Infographic__hidden--1q89r"},$=n("@babel/runtime/helpers/esm/extends"),J=n.n($),ee=n("@babel/runtime/helpers/esm/objectWithoutProperties"),te=n.n(ee),ne=n("@ta/common.routing"),ae=n("@ta/styleguide.bubble-rating"),ie=n("@ta/media.image"),le=function e(t,n){if(t<0)return null;var a=20*t;return Object(_.unescaped)(Object(_.localize)("time_n_min",{0:Math.ceil(a)}),n)},re=function e(t,n,a,i){if(t<0)return null;var l=Math.pow(10,a),r=Math.round(t*l)/l;return"MILES"===n?Object(_.unescaped)(Object(_.localize)("distance_n_mi",{0:r}),i):Object(_.unescaped)(Object(_.localize)("distance_n_km",{0:r}),i)},oe=function e(t,n,a){return n===a?t:"MILES"===n?1.60934*t:.621371*t},ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NearbyLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"locationId"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHorizontal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:284}};ce.loc.source={body:"55982fed6d17"};var se=ce,de=N.memo(function e(t){var n=t.location,a=t.defaultUrl,i=t.viewportCategory;return N.createElement(j.Query,{query:se,variables:{locationId:n.locationId},errorPolicy:"all"},function(e){var n=e.loading,l=e.data,r=!n&&l&&l.locations&&l.locations[0]||null,o=Object(A.featureIsEnabled)("hr_xsell_history_inject");return N.createElement(ne.Link,{stripNoreferrerNoopener:o,href:r&&r.url,onClick:r?void 0:function(){return window.open(a,"_blank")},target:"_blank",className:"hotels-hotel-review-location-NearbyLocation__location--3aHDX"},"MOBILE"===i?function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__thumbnail--1uAfG"},t&&t.thumbnail?N.createElement(ie.ResponsiveImage,{height:"96px",width:"86px",sources:t.thumbnail.photoSizes}):null)}(r):null,function e(t,n,a){var i=n.classification,l=n.location,r=n.distanceUnit;return N.createElement(N.Fragment,null,N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__name--1pAvV","data-nearbylocationid":l.locationId},l.name),N.createElement(N.Fragment,null,t?N.createElement(w.a,{height:"16px"}):function e(t,n){if(!n)return null;var a=n.reviewSummary,i=n.url;return a&&a.count?N.createElement(N.Fragment,null,N.createElement(ae.BubbleRating,{rating:a.rating}),N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__reviewLink--3c7FI",onClick:function e(t){window.open("".concat(i,"#REVIEWS"),"_blank"),t.preventDefault()}},Object(_.localize)("mobile_reviews_plural",{0:_.globalize.formatNumber("integer",a.count)}))):null}(0,a),N.createElement("div",{className:"hotels-hotel-review-location-NearbyLocation__details--3a_CK"},N.createElement(U.Icon,{name:l.distanceInMiles<1?"activities":"parking",className:"hotels-hotel-review-location-NearbyLocation__travelIcon--3oTJZ"}),l.distanceInMiles<1?le(l.distanceInMiles):re(oe(l.distanceInMiles,"MILES",r),r,1),i?N.createElement("span",{className:"hotels-hotel-review-location-NearbyLocation__classification--3OxHA"},i):null)))}(n,t,r))})}),ue=function e(t){var n=t.location,a=te()(t,["location"]);return N.createElement(de,J()({defaultUrl:Object(ne.buildUrl)({page:"Restaurant_Review",d:n.locationId}),location:n},a,{classification:n.cuisines&&n.cuisines[0]?n.cuisines[0].tagNameLocalized:null}))},me=function e(t){var n=t.location,a=te()(t,["location"]),i=null;return n.type&&n.type[0]?i=n.type[0].tagNameLocalized:n.category&&n.category[0]&&(i=n.category[0].tagNameLocalized),N.createElement(de,J()({defaultUrl:Object(ne.buildUrl)({page:"Attraction_Review",d:n.locationId}),location:n},a,{classification:i}))},ve=function e(t){switch(t){case"ACCOMMODATION":return"hotels";case"ATTRACTION":return"attractions";case"EATERY":return"restaurants";default:return"hotels"}},ke=function e(t){var n=t.url,a=t.placeType,i=t.viewportCategory;return n?N.createElement(ne.Link,{href:n,target:"_blank",className:I()("seeNearby","hotels-hotel-review-location-NearbyLink__seeNearby--1T7nl"),stripNoreferrerNoopener:!0,onClick:function e(t){return Object(M.trackClick)(t,{module:"seeAllNearby",action:"click",context:ve(a)})}},function e(t){switch(t){case"ACCOMMODATION":return Object(_.localize)("see_all_nearby_hotels_v2");case"ATTRACTION":return Object(_.localize)("see_all_nearby_attractions_v2");case"EATERY":return Object(_.localize)("see_all_nearby_restaurants_v2");default:return Object(_.localize)("see_all_nearby_hotels_v2")}}(a),"MOBILE"===i?N.createElement(U.Icon,{name:"single-chevron-right-circle-fill",className:"hotels-hotel-review-location-NearbyLink__nearbyIcon--2ilfR"}):null):null},pe=35,ge=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"renderInfographic",function(e,t,a,i,l,r){var o=e&&e>pe?e:null;return o||"MOBILE"!==n.props.viewport?o?N.createElement(S.Columns,null,n.renderWalkability(o),n.renderRestaurantHighlight(t,a,r),n.renderAttractionHighlight(i,l,r)):null:N.createElement(S.Columns,null,n.renderRestaurantHighlight(t,a,r),n.renderAttractionHighlight(i,l,r))}),b()(g()(g()(n)),"renderWalkability",function(e){var t=Object(_.localize)("grade_x_out_of_100",{nGrade:e}),a=N.createElement(O.a,{below:!0,message:Object(_.localize)("walkability_explanation2")},function(e){return N.createElement("div",{ref:e,className:I()(Z.subtitle,Z.tooltip,Z.walkscoreSubtitle)},t,N.createElement(U.Icon,{name:"information-circle",className:Z.infoCircle,onClick:function e(){return R()({name:"nearby",action:"click",context:"walk_info"})}}))});return N.createElement(X,{number:e,viewport:n.props.viewport,color:"green"},N.createElement("span",{className:Z.text},N.createElement("span",{className:I()(Z.title,Z.green)},function i(e){return e>90?Object(_.localize)("great_for_walkers"):e>80?Object(_.localize)("good_for_walkers"):e>50?Object(_.localize)("somewhat_walkable"):Object(_.localize)("car_recommended")}(e)),a))}),b()(g()(g()(n)),"renderRestaurantHighlight",function(e,t,a){if(!e.length&&"MOBILE"===n.props.viewport)return null;var i={titleClass:I()(Z.title,Z.orange),subtitleClass:Z.subtitle,count:"".concat(t),range:_.globalize.formatNumber("default",a)};return N.createElement(X,{number:t,color:"orange",viewport:n.props.viewport,icon:"restaurants",collapsedContent:function t(a){return N.createElement("div",{className:I()(a&&Z.hidden)},N.createElement("div",{className:Z.nearbyLocations},e.slice(0,4).map(function(e){return N.createElement(ue,{location:e,distanceUnit:n.props.distanceUnit,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:n.props.nearbyRestaurantUrl,viewportCategory:n.props.viewport,placeType:"EATERY"}))}},N.createElement("span",{className:I()(Z.text,"MOBILE"===n.props.viewport?Z.collapsible:null),dangerouslySetInnerHTML:{__html:"MILES"===n.props.distanceUnit?Object(_.localize)("hr_location_infographic_restaurant_miles_v2",i):Object(_.localize)("hr_location_infographic_restaurant_km_v2",i)}}))}),b()(g()(g()(n)),"renderAttractionHighlight",function(e,t,a){if(!e.length&&"MOBILE"===n.props.viewport)return null;var i={titleClass:I()(Z.title,Z.blue),subtitleClass:Z.subtitle,count:"".concat(t),range:_.globalize.formatNumber("default",a)};return N.createElement(X,{number:t,color:"blue",viewport:n.props.viewport,icon:"attractions",collapsedContent:function t(a){return N.createElement("div",{className:I()(a&&Z.hidden)},N.createElement("div",{className:Z.nearbyLocations},e.slice(0,4).map(function(e){return N.createElement(me,{location:e,distanceUnit:n.props.distanceUnit,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:n.props.nearbyAttractionsUrl,viewportCategory:n.props.viewport,placeType:"ATTRACTION"}))}},N.createElement("span",{className:I()(Z.text,"MOBILE"===n.props.viewport?Z.collapsible:null),dangerouslySetInnerHTML:{__html:"MILES"===n.props.distanceUnit?Object(_.localize)("hr_location_infographic_attraction_miles_v2",i):Object(_.localize)("hr_location_infographic_attraction_km_v2",i)}}))}),n}return k()(t,e),c()(t,[{key:"render",value:function e(){var t=this;return N.createElement(H,null,function(e){var n=e.loading,a=e.walkScore,i=e.restaurants,l=e.restaurantsCount,r=e.attractions,o=e.attractionsCount,c=e.distanceRange;return n?N.createElement(w.a,{height:"80px"}):t.renderInfographic(a,i,l,r,o,c)})}}]),t}(N.Component),he=n("@ta/public.ride-service-callout"),be=n.n(he),Ne={airport:{typeIcon:"flights",travelIcon:"parking"},transit:{typeIcon:"train",travelIcon:"activities"}},ye=Object(A.featureIsEnabled)("hr_xsell_history_inject"),_e=function e(t,n){return"transit"===t&&n&&n.length<120},fe=function e(t){return N.createElement("div",{className:"hotels-hotel-review-location-NearbyTransport__item--7md5u"},N.createElement(U.Icon,{name:Ne[t.type].typeIcon,className:"hotels-hotel-review-location-NearbyTransport__typeIcon--21-Tf"}),N.createElement("div",null,N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__name--2ZEk0"},t.name),t.travel?N.createElement("span",{className:I()("hotels-hotel-review-location-NearbyTransport__travel--oZRAC",b()({},"hotels-hotel-review-location-NearbyTransport__description--sA8c-",_e(t.type,t.locationDescription)))},_e(t.type,t.locationDescription)?N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__description--sA8c-"},t.locationDescription):null,N.createElement(U.Icon,{name:Ne[t.type].travelIcon,className:"hotels-hotel-review-location-NearbyTransport__travelIcon--YCPiK"}),N.createElement("span",{className:"hotels-hotel-review-location-NearbyTransport__distance--24tmE"},t.travel)):null,t.link?N.createElement(ne.Link,{stripNoreferrerNoopener:ye,href:t.link,target:"_blank",className:"hotels-hotel-review-location-NearbyTransport__linkToFlights--3orLd"},t.fare?Object(_.localize)("hotel_see_flights_from",{displayFare:t.fare}):Object(_.localize)("hotel_See_all_flights")):null))},Ie=Object(A.featureIsEnabled)("LINK_TO_FLIGHTS"),Ee=function(e){function t(){return r()(this,t),d()(this,m()(t).apply(this,arguments))}return k()(t,e),c()(t,[{key:"renderAirports",value:function e(t){var n=this;return N.createElement(N.Fragment,null,t&&t.map(function(e){return N.createElement(fe,{type:"airport",key:e.id,name:e.localizedName,travel:re(e.localizedDistance,n.props.distanceUnit,0),link:Ie?Object(ne.buildUrl)({page:"Flights",g:e.locationId}):null})}))}},{key:"renderAirportsGQ",value:function e(t){var n=this;return N.createElement(N.Fragment,null,t&&t.map(function(e){return e&&e.airportInfo&&e.distanceFromCenter?N.createElement(fe,{type:"airport",key:e.airportInfo.airportLocationId,name:e.airportInfo.locationName,travel:re(oe(e.distanceFromCenter,"MILES",n.props.distanceUnit),n.props.distanceUnit,0),link:Ie?e&&e.airportInfo&&e.airportInfo.locationId&&Object(ne.buildUrl)({page:"Flights",g:e.airportInfo.locationId}):null}):null}))}},{key:"render",value:function e(){var t=this.props,n=t.nearbyAirports,a=t.nearbyAirportsGQ,i=t.nearbyTransit,l=t.viewport;return n&&0!==n.length||a&&0!==a.length||i&&0!==i.length?N.createElement(T,{fillSpace:!0,title:Object(_.localize)("hr_location_getting_there")},n&&this.renderAirports(n),a&&this.renderAirportsGQ(a),function e(t){return N.createElement(N.Fragment,null,t&&t.filter(function(e){return e.distanceFromCenter}).map(function(e){return N.createElement(fe,{type:"transit",key:e.locationId,name:e.name,travel:le(e.distanceFromCenter||0),locationDescription:e.locationDescription})}))}(i),"MOBILE"===l?N.createElement(be.a,null):null):null}}]),t}(N.Component),we=Object(y.bind)(function(e,t){var n=e.meta.device.viewportCategory,a=Object(A.featureIsEnabled)("USE_GQL_FOR_AIRPORTS"),i=null;if(!a){var l=new URLSearchParams({radius:"50",limit:"2",locale:e.i18n.locale});i=t("/data/1.0/airports/nearby/".concat(e.page.detailId,"?").concat(l.toString()))}return function(){return{nearbyAirports:i&&i.get().data,distanceUnit:e.i18n.distanceUnit||"MILES",viewport:n}}})(Ee),Se=n("@ta/common.text");function Ce(e){return!!(e&&e.name&&e.description)}var Ae=function e(){return N.createElement(N.Fragment,null,N.createElement("span",{className:"hotels-hotel-review-location-Neighborhood__readMore--1wv8g"},Object(_.localize)("common_Read_more")),N.createElement(U.Icon,{name:"caret-down"}))},Le=function e(t){var n=t.nearbyHotelsUrl,a=t.neighborhood,i=t.viewportCategory;if(!a||!Ce(a))return null;var l=function r(e){if(!e||!e.images)return[];var t=e.images;return t?Object.keys(t).map(function(e){return t[e]}):[]}(a.photo),o="MOBILE"===i?3:5;return N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__container--2evy3"},N.createElement(S.Columns,{gaplessVertical:"MOBILE"===i},N.createElement(S.Column,{width:"MOBILE"===i?12:8},N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__title--2r0Yo"},Object(_.localize)("common_Neighborhood_ffffdfce")),"MOBILE"!==i?N.createElement("div",{className:"hotels-hotel-review-location-Neighborhood__name--2LxNd"},a.name):null,N.createElement(Se.ReadMore,{customCssClass:"hotels-hotel-review-location-Neighborhood__description--28xqH",numLinesToShow:o,initialDivHeight:18*o,cta:Ae(),ctaNewline:!0},a.description),N.createElement(ke,{url:n,viewportCategory:i,placeType:"ACCOMMODATION"})),"MOBILE"!==i&&l.length?N.createElement(S.Column,{width:4},n?N.createElement(ne.Link,{href:n,target:"_blank",onClick:function e(t){return Object(M.trackClick)(t,{module:"seeAllNearby",action:"click_photo",context:"hotels"})}},N.createElement(ie.ResponsiveImage,{height:"200px",width:"100%",sources:l})):N.createElement(ie.ResponsiveImage,{height:"200px",width:"100%",sources:l})):null))},Te=function e(t){var n=t.locationId,a=t.language,i=t.locationEndpoint,l=t.contactsGQ,r=t.hasGeoCenter,o=t.linkLevel,c=l;if(!c&&!i.address&&!i.plainTextAddress)return null;var s={address:i.address||i.plainTextAddress,localAddress:i.local_address,localName:i.local_name,localLanguage:i.local_lang_code&&i.local_lang_code.split("-")[0]||a};return N.createElement(T,{title:Object(_.localize)("tab_detail_contact_fffff9b3")},N.createElement(V.Address,{userLanguage:a,address:s,layout:"location",disableMap:!r,linkLevel:o}),c&&N.createElement(N.Fragment,null,N.createElement(V.PhoneLink,{locationId:n,contact:c.PHONE,layout:"location",linkLevel:o}),N.createElement(V.EmailLink,{locationId:n,contact:c.EMAIL,layout:"location",linkLevel:o})))};Te.defaultProps={linkLevel:void 0};var Fe,Oe=Object(y.bind)(function(e,t){var n=new URLSearchParams({detailLevel:"EXTENDED",allowedFields:"address,local_address,local_name,local_lang_code"}),a=t("/data/1.0/location/".concat(e.page.detailId,"/poiDetails?").concat(n.toString()));return function(){return{locationEndpoint:a.get().data||{},locationId:e.page.detailId,language:e.i18n.locale&&e.i18n.locale.split("_")[0]||"en"}}})(Te),Me=n("@babel/runtime/helpers/esm/toConsumableArray"),Re=n.n(Me),Ue=n("react-redux"),je=n("@ta/events.window-resize"),Ve=n.n(je),De=n("@ta/maps.snapshot"),ze=n.n(De),xe=n("@ta/common.radio"),Pe=n.n(xe),He=n("@ta/platform.import"),Be=n("@ta/common.is-visible"),Ge=[.3,.75,5],Ye=[.5,1,10],Qe={MOBILE:{height:184,width:765},TABLET:{height:241,width:975},DESKTOP:{height:241,width:811}},qe=Object(A.featureIsEnabled)("hr_map_load_on_scroll")?He.component.onTrigger(((Fe=function e(){return n.e("@ta/hotels.hotel-review-map")}).__PACKAGE__="@ta/hotels.hotel-review-location",Fe.__MODULE_ID__="@ta/hotels.hotel-review-map",Fe.__MODULE_NAME__="@ta/hotels.hotel-review-map",Fe.__BUNDLE_NAME__="@ta/hotels.hotel-review-map",Fe.__GET_SYNC__=function(){return n.m["@ta/hotels.hotel-review-map"]?n("@ta/hotels.hotel-review-map"):null},Fe.__IS_LOADED__=function(){return void 0!==n.m["@ta/hotels.hotel-review-map"]},Fe)):[function(){}],We=W()(qe,1)[0],Ke=function e(t,n){switch(("MILES"===n?Ge:Ye).indexOf(t)){case 0:return 15;case 1:return 13;default:return 11}},Xe=function e(t){R()({module:"nearby",action:"click",context:"open_float_map"}),t&&t.emit("open-trigger-clicked")},Ze=function e(){return N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__fullView--XAB4y"},N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__fullViewInner--35N-M"},N.createElement(U.Icon,{name:"expand",className:"hotels-hotel-review-location-StaticMap__expandIcon--3ycAA"}),Object(_.localize)("full_view")))},$e=function e(t){if(!t.latitude||!t.longitude)return null;var n;switch(t.placeType){case"ACCOMMODATION":n=t.distanceInMiles&&0!==t.distanceInMiles?De.SnapshotAssetCatalogue.miniHotelPin:De.SnapshotAssetCatalogue.anchorHotelPin;break;case"ATTRACTION":n=De.SnapshotAssetCatalogue.miniAttractionPin;break;case"EATERY":n=De.SnapshotAssetCatalogue.miniRestaurantPin;break;default:return null}return{iconUrl:n,position:{lat:t.latitude,lng:t.longitude}}},Je=Object(Ue.connect)(function(e){return{defaultSize:Qe[e.meta.device.viewportCategory]||Qe.MOBILE}})(function e(t){var n=N.useState(t.defaultSize),a=W()(n,2),i=a[0],l=a[1],r=N.useState(null),o=W()(r,2),c=o[0],s=o[1],d=N.useState(1),u=W()(d,2),m=u[0],v=u[1],k=Object(Be.useOnVisible)(We),p=function e(){if(k){var t=window.getComputedStyle(k.current);t&&t.width&&t.height&&l({width:parseInt(t.width.replace("px",""),10),height:parseInt(t.height.replace("px",""),10)}),v(window.devicePixelRatio&&window.devicePixelRatio>1?2:1)}};return N.useEffect(function(){p(),s(Pe()("hr-map"))},[]),N.createElement(H,null,function(e){var n=e.loading,a=e.currentLocation,l=e.hotels,r=e.restaurants,o=e.attractions,s=e.distanceRange;if(n)return N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__container--1vnh_",ref:k,onClick:function e(){return Xe(c)}},N.createElement(w.a,{height:"100%"}),Ze());if(!a||!a.latitude||!a.longitude)return null;var d=[a].concat(Re()(r.slice(0,10)),Re()(o.slice(0,10)));return l.length>0&&d.push.apply(d,Re()(l.slice(0,10))),N.createElement("div",{className:"hotels-hotel-review-location-StaticMap__container--1vnh_",ref:k,onClick:function e(){return Xe(c)}},N.createElement(ze.a,{center:{lat:a.latitude,lng:a.longitude},height:i.height,zoom:Ke(s,t.distanceUnit),width:i.width,imgClassName:"hotels-hotel-review-location-StaticMap__map--3L4sb",scale:m,markers:d.map($e).filter(function(e){return!!e}),lazy:!0}),Ze(),N.createElement(Ve.a,{callback:p,throttle:0}))})});n.d(t,"ssrQueries",function(){return nt});var et=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(g()(g()(n)),"renderLocationColumn",function(e,t,a,i,l,r,o){return N.createElement(L,null,e?N.createElement(w.a,{height:"52px"}):N.createElement(Oe,{contactsGQ:t,hasGeoCenter:i,linkLevel:o}),N.createElement(we,{locationId:n.props.locationId,nearbyTransit:l,nearbyAirportsGQ:r}),Ce(n.props.parentNeighborhood)?null:N.createElement(ke,{url:a,viewportCategory:n.props.viewport,placeType:"ACCOMMODATION"}))}),b()(g()(g()(n)),"renderRestaurantsColumn",function(e,t,a,i){return e||t.length?N.createElement(L,null,N.createElement(T,{fillSpace:!0,title:Object(_.localize)("hr_location_nearby_restaurants")},e?N.createElement(w.a,{height:"240px"}):t.slice(0,4).map(function(e){return N.createElement(ue,{location:e,distanceUnit:a,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:i,viewportCategory:n.props.viewport,placeType:"EATERY"})):null}),b()(g()(g()(n)),"renderAttractionsColumn",function(e,t,a,i){return e||t.length?N.createElement(L,null,N.createElement(T,{fillSpace:!0,title:Object(_.localize)("hr_nearby_attractions")},e?N.createElement(w.a,{height:"240px"}):t.slice(0,4).map(function(e){return N.createElement(me,{location:e,distanceUnit:a,viewportCategory:n.props.viewport,key:e.locationId})})),N.createElement(ke,{url:i,viewportCategory:n.props.viewport,placeType:"ATTRACTION"})):null}),n}return k()(t,e),c()(t,[{key:"render",value:function e(){var t=this,n=this.props,a=n.distanceUnit,i=n.viewport;return N.createElement(Q,{locationId:this.props.locationId,nearbyLocationData:this.props.nearbyLocationData,commerceCountryId:this.props.commerceCountryId,isMobile:this.props.isMobile,servlet:this.props.servlet,sponsoredListingLocationIdAttribution:this.props.sponsoredListingLocationIdAttribution,distanceUnit:a},N.createElement(C.Section,{section:"location",theme:"reorg",trackVisible:"nearby_hr",className:I()("ui_column",Object(A.featureIsEnabled)("hotel_review_is_thin_content")?null:"is-8-desktop is-12")},N.createElement(C.Header,{noDivider:!0},Object(_.localize)("hotels_nav_location")),N.createElement(Je,{distanceUnit:a}),N.createElement(H,null,function(e){var n=e.loading,l=e.contacts,r=e.restaurants,o=e.attractions,c=e.nearbyHotelsUrl,s=e.nearbyAttractionsUrl,d=e.nearbyRestaurantsUrl,u=e.nearbyTransit,m=e.nearbyAirports,v=e.hasGeoCenter;return N.createElement(N.Fragment,null,N.createElement(ge,{viewport:i,distanceUnit:a,nearbyAttractionsUrl:s,nearbyRestaurantUrl:d}),N.createElement(S.Columns,null,t.renderLocationColumn(n,l,c,v,u,m,"level_4"),"MOBILE"!==i?N.createElement(N.Fragment,null,t.renderRestaurantsColumn(n,r,a,d),t.renderAttractionsColumn(n,o,a,s)):null),N.createElement(Le,{neighborhood:t.props.parentNeighborhood,viewportCategory:i,nearbyHotelsUrl:c}))})))}}]),t}(N.Component),tt=function e(t){var n=t.page.detailId,a=t.meta.device;return{locationId:n,userAgent:a.userAgentCategory,viewport:a.viewportCategory,isMobile:"MOBILE"===t.meta.device.userAgentCategory,sponsoredListingLocationIdAttribution:t.route.sponsoredListingLocationIdAttribution,commerceCountryId:t.meta.commerceCountryId,servlet:t.route.page,distanceUnit:t.i18n.distanceUnit}},nt=(t.default=Object(y.bind)(function(e,t){we.stage(e,t),Oe.stage(e,t);var n=tt(e),a=t("/data/1.0/location/".concat(e.page.detailId,"/parentNeighborhood?detailLevel=EXTENDED")),l=Object(A.featureIsEnabled)("hr_location_hotel_pins")?"ATTRACTION,EATERY,ACCOMMODATION":"ATTRACTION,EATERY",r=Object(A.featureIsEnabled)("hr_location_via_hps")?null:t("/data/1.0/nearbylocations/".concat(e.page.detailId,"?placeTypes=").concat(l));return function(){return i()({},n,{parentNeighborhood:a.get().data,nearbyLocationData:r?r.get().data:null})}})(et),Object(A.featureIsEnabled)("hr_location_via_hps")?function(e){return[Y(i()({},tt(e),{nearbyLocationData:null}))]}:null)}}});
//# sourceMappingURL=hotels.hotel-review-location.5c380fec60.js.map
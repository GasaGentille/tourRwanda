($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/common.qualtrics-survey",d:["vendor-babel","vendor-react-libs","vendor-redux-libs","ta-platform","@ta/common.localstorage","@ta/common.sessionstorage","lithium-platform"],e:["./packages/common/qualtrics-survey/QualtricsSurvey.jsx"],x:{"./packages/common/qualtrics-survey/QualtricsSurvey.jsx":["default"]},m:{"./packages/common/qualtrics-survey/QualtricsSurvey.jsx":function(e,t,a){"use strict";a.r(t);var n=a("@babel/runtime/helpers/esm/extends"),s=a.n(n),r=a("@babel/runtime/helpers/esm/slicedToArray"),i=a.n(r),o=a("react"),c=a.n(o),u=a("react-redux"),l=a("@ta/common.imports"),d=a("@ta/common.localstorage"),m=a.n(d),v=a("@ta/common.sessionstorage"),f=a.n(v),g=a("@ta/common.features");t.default=Object(u.connect)(function(e){return{uid:e.tracking.uid,sessionId:e.tracking.sessionId}})(function e(t){var a=t.interceptId,n=t.qualtricsDomain,r=void 0===n?"znbkpczkrl5wwqzj3-tripadvisor.siteintercept.qualtrics.com":n,u=t.timeoutDays,d=void 0===u?7:u,v=t.minPageViews,p=void 0===v?2:v,b=t.dataset,S=void 0===b?{}:b,y=t.onDisplaySurvey,I=void 0===y?function(){}:y,w=t.uid,j=t.sessionId,q=Object(o.useState)(!1),x=i()(q,2),h=x[0],k=x[1];return Object(o.useEffect)(function(){h||(k(!0),function e(t,a,n,s){if(m.a.get("qualtrics-debug"))return!0;if(Object(g.featureIsEnabled)("saves_nux_first_pageload")&&f.a.enabled()&&f.a.get("savesnuxthispageload"))return!1;var r=m.a.get("qualtrics-state-".concat(t));null!=r&&r.sessionId===a||(r={sessionId:a,lastSeen:0,pageViews:0}),r.pageViews+=1;var i=!1,o=Date.now();return r.pageViews>=s&&o-r.lastSeen>n&&(r.lastSeen=o,i=!0),m.a.set("qualtrics-state-".concat(t),r),i}(a,j||"",24*d*60*60*1e3,p)&&(I(),function e(t,a,n){var s=new URLSearchParams({Q_SIID:a,UID:n,Q_LOC:window.location.href,t:Date.now().toString()});Object(l.importScript)("//".concat(t,"/WRSiteInterceptEngine/?").concat(s.toString()),"BIZ")}(r,a,w||"")))}),c.a.createElement("div",s()({id:a},function e(t){var a={};return Object.entries(t).forEach(function(e){var t=i()(e,2),n=t[0],s=t[1];a["data-".concat(n)]=String(s)}),a}(S)))})}}});
//# sourceMappingURL=common.qualtrics-survey.d8da2e742c.js.map
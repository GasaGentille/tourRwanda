var ta="undefined"!=typeof window&&window.ta||{},define,require;ta.rollupAmdShim=ta.rollupAmdShim||function(){function e(e,i){var t,o,d,f;if(!window.overrideRequire){for(t=0;e&&e.length&&t<e.length;++t)w[e[t]]=!0;for(t=0;i&&i.length&&t<i.length;++t)m[i[t]]=!0;var l,u;if(y&&window._dummyDefine&&window._dummyDefine.isDummyDefine&&(l=window._dummyDefine.pendingDefinitions,window._dummyDefine=null,define=null),"undefined"!=typeof require&&require.isDummyRequire){u=require.pendingRequirements;var a=require.pendingConfigs;if(a&&a.length)for(t=0;t<a.length;t++)f=a[t],r.config.apply(null,f);require=null}if("function"==typeof define&&define.isTaRollupShim||(E="function"==typeof define?define:null,define=n),"function"==typeof require&&require.isTaRollupShim||(O="function"==typeof require?require:null,require=r),l&&l.length)for(t=0;t<l.length;t++)o=l[t],n.apply(null,o);if(u&&u.length)for(t=0;t<u.length;t++)d=u[t],r.apply(null,d)}}function n(e,r,t,d){var f,l,a=[];if("function"==typeof r&&void 0===t&&void 0===d&&(t=r,r=[]),"string"==typeof e&&"object"==typeof r&&"function"==typeof t){if(D.hasOwnProperty(e)||v[e]&&v[e].deps)return;if(l=i(r,a))try{f=t.apply(null,l),u(e,f)}catch(e){P("Error in require callback: ",e)}else o(a,{deps:r,cb:t,defname:e},n.depLoader)}else{if(E)return E(e,r,t,d);P("invalid args for AMD define: "+typeof e+", "+typeof r+", "+typeof t)}}function r(e,r,d,f){var l=null;if("string"==typeof e&&"function"!=typeof r){try{l=i([e]),!l&&O&&(l=[O(e,r,d,f)])}catch(e){}if(!l)throw t(e);return l[0]}if("object"==typeof e&&"function"==typeof r){var u=[];if(l=i(e,u))try{r.apply(null,l)}catch(e){P("Error in require callback: ",e)}else o(u,{deps:e,cb:r,eb:"function"==typeof d&&d},n.depLoader)}else{if(O)return O(e,r,d,f);P("invalid args for AMD require: "+typeof e+", "+typeof r+". Expected either a string-literal singular dependency (i.e. synchronous) or an array of dependencies with a callback function (i.e. async).")}}function i(e,n){var r,i,t,o,d=[];for(r=0;r<e.length;++r)if(i=e[r],o=null,i)if(D.hasOwnProperty(i))o=D[i],d.push(o);else if(m[i]){for(t=i.split("/"),"underscore"===t[0]&&(t[0]="_"),o="undefined"!=typeof window&&window;t.length>1&&o;o=o[t.shift()]);t.length>0&&o&&(o=o[t[0]]||o[t[0].toLowerCase()]),o?(D[i]=o,d.push(o)):n.push(i)}else n&&n.push(i);else d.push(null);if(d.length===e.length)return d}function t(e){var n,r,i,t,o="Missing immediately required dependency: "+e;for(n=0;n<10;n++){var d=v[e];if(!d){o+=" (not specified)";break}if(d.error){o+=" ("+d.error+")";break}if(e=null,t=d.deps)for(r=0;r<t.length;r++)if(i=t[r],!D.hasOwnProperty(i)){e=i;break}if(!e)break;o+=" -> "+e}var f=new Error(o);return y&&!window.IS_DEBUG||!g||y&&null===window.require.caller&&/^R|react$/.test(e)||g.error(f),f}function o(e,n,t){var u,a,s,p,c,h,y,g=[],w=[],m=[];n.deps=n.deps||[],n.defname&&(p=v[n.defname],v[n.defname]=n,p&&p!==n&&p.needers&&p.needers.length&&(n.needers=(p.needers||[]).concat(n.needers||[])));for(var c=0;c<e.length;c++)u=e[c],h=u.lastIndexOf("!"),h>=0?(g.push(u.substring(0,h)),w.push(u.substring(h+1))):(g.push(null),w.push(u));if(g=i(g,m),!g)return o(m,n);for(var c=0;c<e.length;c++)if(a=g[c],s=v[e[c]],!s&&!D.hasOwnProperty(e[c])){s={defname:e[c]},v[e[c]]=s;var E=f(s),M=l(s);E.error=M;try{if(a)a.load(w[c],r,E,{});else if(t)t(w[c],r,E,{});else{if(!O||O.taVer)throw new Error("no loader for AMD module '"+s.defname+"'");O([s.defname],E,M)}y=!0}catch(e){n.error=e,M(e)}}n.need=0;for(var c=0;c<e.length;c++)u=e[c],s=v[u],!s||D.hasOwnProperty(u)||s.error||(s.needers=s.needers||[],s.needers.push(n),n.need+=1);!n.need&&y&&(b.push(n),q||(q=setTimeout(d,0)))}function d(){var e,n,r,t;for(q=-1;b.length>0;){var d=b.shift();if(d)try{if(d.error){d.defname&&a(d.defname);continue}if(n=[],t="string"==typeof d.deps?[d.deps]:d.deps,e=i(t||[],n),n.length>0){o(n,d);continue}r=null,d.cb&&(r=d.cb.apply(null,e)),d.deps=[],d.cb=null,d.defname&&u(d.defname,r)}catch(e){P("Error propagating dependency resolutions: ",e)}}q=null}function f(e){return function(n){e.defname&&u(e.defname,n)}}function l(e){return function(n){e.defname&&(e.error="Error loading '"+e.defname+"': "+n,P(e.error),e.need=0,e.deps=[],a(e.defname))}}function u(e,n){if(!D[e]){var r=v[e];if(D[e]=n,delete v[e],w[e]){var i,t=e.split("/"),o=ta;for("ta"===t[0]&&t.shift();t.length>1;)i=t.shift(),o[i]||(o[i]={}),o=o[i];t.length>0&&(i=t.shift(),i in o||i.toLowerCase()in o||(o[i]=n,o[i.toLowerCase()]=n))}if(E&&E(e,[],s(n)),r)for(;r.needers&&r.needers.length>0;){var f=r.needers.shift();f.need-=1,f.need||b.push(f)}b.length&&!q&&(q=setTimeout(d,0))}}function a(e){var n=v[e];if(n){var r=n.eb;for(n.deps=null,n.cb=null,n.eb=null,n.error||(n.error="Error loading '"+n.defname+"'");n.needers&&n.needers.length>0;){var i=n.needers.shift();i.error="Failed to load AMD module '"+e+"' which is depended upon by '"+i.defname+"'",i.need>0&&(i.need=0,b.push(i)),y&&!window.IS_DEBUG||!g||g.error(i.error)}if(null!=r)try{r(n.error)}catch(e){}}b.length&&!q&&(q=setTimeout(d,0))}function s(e){return function(){return e}}function p(e){return e&&(e.indexOf("trjs!")!==-1||e.indexOf("trcss!")!==-1||e.indexOf("trhtml!")!==-1||e.indexOf("trdust!")!==-1)}function c(){return!("undefined"!=typeof ta&&ta.page&&ta.page.loadDeferred)}function h(){var e,n,r,t,o;if(q)return void setTimeout(h,0);if(M=!0,v&&c())for(e in v)if(v.hasOwnProperty(e)){if(n=v[e],t=[],o=[],p(n.defname))continue;if(v.hasOwnProperty("trjs!"+n.defname))continue;if(n.deps&&n.deps.length){for(r=0;r<n.deps.length;r++)p(n.deps[r])||t.push(n.deps[r]);if(i(t,o),0===o.length)continue}P("Page 'load' event fired but we have not resolved the '"+n.defname+"' AMD module"+(n.deps&&n.deps.length?" due to missing dependencies: "+o:""))}}var y="undefined"!=typeof window,g=y&&window.console||"undefined"!=typeof console&&console||void 0,w={},m={},v={},b=[],q=null,D={ta:ta},E=null,O=null,M=!1,P=function(e,n){if("undefined"!=typeof __SERVER__)throw n;g&&g.error.apply&&g.error.apply(g,arguments),g&&!g.error.apply&&g.error&&g.error([].slice.apply(arguments))};n.amd=!0,n.isTaRollupShim=!0,n.depLoader=function(){},n.depLoader.isDefault=!0,r.isTaRollupShim=!0,r.undef=function(e){delete D[e];var n=v[e];n&&n.deps&&(n.deps=[],n.cb=null,n.defname=null,delete v[e])},r.config=function(){O&&O.config&&O.config.apply(O,arguments)},r.defined=function(e){return!!D.hasOwnProperty(e)||!v.hasOwnProperty(e)&&(O&&O.defined&&O.defined(e))},r.parsed=function(e){return!!D.hasOwnProperty(e)||v[e]&&v[e].deps},r.specified=function(e){return!(!D.hasOwnProperty(e)&&!v[e])||O&&O.specified&&O.specified(e)},y&&window.IS_DEBUG&&(window.addEventListener?window.addEventListener("load",h,!1):window.attachEvent&&window.attachEvent("onload",h));var _={install:e,reportMissing:h,define:n,require:r,initializedModules:D,debug:function(){return{globalModuleFlags:w,shimModuleFlags:m,initializedModules:D,pendingModules:v,outer:{require:O,define:E},depLoader:n.depLoader}}};return _.install(),u("ta/rollupAmdShim",_),_}();
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["amdloaders","remoteModule"],[]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/core-amd","files":{"js-amd":{"src":{"amdloaders":1,"remoteModule":1}}},"_":{"baseUrl":"/"}});
define("vanillajs",[],function(){return{}});
define("utils/to-array",["vanillajs"],function(){return function(n){return"number"!=typeof n.length?[n]:Array.prototype.slice.call(n)}});
define("amdloaders",["utils/to-array"],function(e){var t=[],n=[],r=[],o=[],a=[],d=null,i=null,u={},s={},c={},l={},f=null,p=!1,h=1e4,m=!1,w={},v=function(e,t,r){if("@ta/"!==e.substring(0,4)){if(u[e]){if(s[e]&&/^[-a-z]+\.[-_a-zA-Z0-9]+$/.test(e))return}else u[e]=!0,n.push(e);a.push(function(n){n||!t.parsed||t.parsed(e)||(n=new Error("Dynamic load failed to define module '"+e+"'")),n&&r.error&&r.error(n)}),S()}},g=function(e,t,r){u[e]||(u[e]=!0,s[e]||t.specified(e)||n.push(e)),a.push(function(n){var o=t.parsed(e);n||s[e]||o||(n=new Error("Dynamic load failed to define '"+e+"'")),n?r.error&&r.error(n):o||define(e,[],H(!0))}),t([e],r,r.error),S()},y=function(e,n,r){t.push(e),a.push(function(e){e?r.error&&r.error(e):r(!0)}),S()},C=function(e,t,n){r.push(e),a.push(function(r){r||t.specified("trhtml!"+e)||(r=new Error("Dynamic load failed to define content '"+e+"'")),r&&n.error&&n.error(r)}),S()},L=function(e,t,n){c[e]||(c[e]=!0,l[e]||o.push(e)),a.push(function(e){e?n.error&&n.error(e):n(!0)}),S()},L=function(e,t,n){c[e]||(c[e]=!0,l[e]||o.push(e)),a.push(function(e){e?n.error&&n.error(e):n(!0)}),S()},S=function(){!f&&p&&!m&&(a.length||t.length||n.length||r.length||o.length)&&(f=setTimeout(b,0))},E=function(e,t){var n=e.getAttribute("data-rup");if(n){var r;n=n.split(",");for(var o=0;o<n.length;o++)r=n[o].trim(),r&&t(r)}},R=w.getJSRollupsLoaded=function(){var t=i||e(document.getElementsByTagName("SCRIPT")).reduce(function(e,t){return t.hasAttribute("data-is-dust")||E(t,function(t){e.dedup[t]||(e.rups.push(t),u[t]=s[t]=e.dedup[t]=!0)}),e},{rups:[],dedup:{}}).rups;return!i&&p&&(i=t),t},A=w.getCSSRollupsLoaded=function(){var t=d||(document.head?e(document.head.querySelectorAll("LINK, STYLE")).reduce(function(e,t){return E(t,function(t){e.dedup[t]||(e.rups.push(t),e.dedup[t]=!0)}),e},{rups:[],dedup:{}}).rups:[]);return!d&&p&&(d=t),t},T=w.getLoadedFilesParams=function(){return{haveJses:String(R()),haveCsses:String(A())}},b=function(){if(f=null,p&&!m){var e=t,d=a,i=r,u=o,c=T(),l=n.filter(function(e){return e&&!s[e]&&!require.parsed(e)});if(a=[],t=[],n=[],r=[],o=[],!(l.length||e.length||i.length||u.length))return void I(d);var h="haveJses="+encodeURIComponent(c.haveJses)+"&haveCsses="+encodeURIComponent(c.haveCsses)+"&needJses="+encodeURIComponent(String(l||""))+"&needCsses="+encodeURIComponent(String(e||""))+"&needDusts="+encodeURIComponent(String(u||""));i.length>0&&(h+="&needContent="+encodeURIComponent(String(i))),window.pageServlet&&(h+="&metaReferer="+encodeURIComponent(window.pageServlet));var w=null;try{w=new XMLHttpRequest}catch(e){try{w=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{w=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw new Error("Can't create XMLHttpRequest or similar")}}}var v=!1;w.onreadystatechange=function(){v||4!==w.readyState||(v=!0,w.status>=200&&w.status<=299?x(d,w.responseText):I(d,new Error("XHR returned "+w.status)))},w.open("POST","/DemandLoadAjax",!0);try{w.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")}catch(e){}try{w.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(e){}try{w.setRequestHeader("Accept","text/html, */*")}catch(e){}m=!0,w.send(h)}},I=function(e,t){if(m=!1,S(),e.length)for(var n=0;n<e.length;++n)try{e[n](t)}catch(e){window.IS_DEBUG&&console.error&&console.error("Error in async callback: ",e)}},D=w.installStyles=function(e){document.head.appendChild(e.reduce(function(e,t){return E(t,function(e){d.push(e),define("trcss!"+e,[],H(void 0))}),e.appendChild(t),e},document.createDocumentFragment()))},q=w.installScripts=function(e){return Promise.all(e.map(function(e){return E(e,function(t){e.hasAttribute("data-is-dust")?l[t]=!0:(i&&i.push(t),s[t]=!0)}),new Promise(function(t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("data-rup",e.getAttribute("data-rup")),e.src?(n.src=e.src,n.async=!0,n.onload=n.onerror=t,document.head.appendChild(n)):e.text&&(n.text=e.text,document.head.appendChild(n),document.head.removeChild(n),t())})}))},x=function(t,n){if(!n||!n.substr)return void I(t,new Error("no data returned from /DemandLoadAjax"));var r,o=Promise.resolve();try{var a=document.createElement("DIV");a.innerHTML=n,D(e(a.querySelectorAll("STYLE, LINK"))),o=q(e(a.getElementsByTagName("SCRIPT")));for(var d,i;d=a.firstChild;)a.removeChild(d),1===d.nodeType&&(i=d.getAttribute("data-content"),i&&define("trhtml!"+i,[],H(d)))}catch(e){r=e}o.then(I.bind(null,t,r))},H=function(e){return function(){return e}},M=w.activate=function(){p||(p=!0,define.depLoader&&!define.depLoader.isDefault||(define.depLoader=v),S())},X=function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(e[t].hasAttribute("data-loadtrk")&&!e[t].loadtrk)return window.console&&console.warn&&console.warn(e[t].src+" is not loaded yet"),!1;return!0},P=function(){"interactive"===document.readyState&&X()&&(window.console&&console.warn&&console.warn("force activate async loading due to wait timeout"),M())};return define("trjs",[],function(){return{load:g}}),define("trcss",[],function(){return{load:y}}),define("trhtml",[],function(){return{load:C}}),define("trdust",[],function(){return{load:L}}),"undefined"!=typeof window&&(document.addEventListener&&!window.taRollupsAreAsync&&document.addEventListener("DOMContentLoaded",M,!1),window.addEventListener?window.addEventListener("load",M,!1):window.attachEvent&&window.attachEvent("onload",M),window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Edge")>-1&&setTimeout(P,h)),w});
define("remoteModule",["vanillajs"],function(){"use strict";function t(t,e){return null==t?null:t.getAttribute("data-"+e)}function e(t,e){for(;t&&t!==document.body;){if(t.getAttribute(e))return t;t=t.parentNode}return null}function r(e,r,n,i,u){var a=t(e,r);return a?a.replace(/\$plc:/g,"$prp/"+n+"/").replace(/\$prw:/g,"$prw/"+i+"/").split(",").filter(function(t){return!!t.length}).reduce(function(t,e){return t.concat(u.map(function(t){var r="trdust!"===t&&e.indexOf("/")<0;return t+e+(r?"-dust":"")}))},[]):[]}var n={};return function(i,u){var a=[].slice.call(arguments),l=(t(u,"load-init")||t(u,"load-js")).split("."),s=l.shift(),d=l.shift();if(!(n[s]&&n[s].indexOf(u)>=0)){if(require.defined(s)){var c=require(s);return void(d?c[d]:c).apply(c,a)}(n[s]||(n[s]=[])).push(u);var f=e(u,"data-placement-name"),p=e(u,"data-prwidget-name"),o=t(f,"placement-name"),h=t(p,"prwidget-name"),m=[].concat(r(u,"load-all",o,h,["trjs!","trcss!","trdust!"]),r(u,"load-js",o,h,["trjs!"]),r(u,"load-css",o,h,["trcss!"]),r(u,"load-dust",o,h,["trdust!"]));/^\$plc:/.test(s)?(a.unshift(m),a.unshift(s.substr(5)+"."+d),a.unshift(f.getAttribute("id")),a.unshift("evCall"),a.unshift("ta/p13n/placements"),requireCallLast.apply(window,a)):/^\$prw:/.test(s)?(a.unshift(s.substr(5)+"."+d),a.unshift("call"),a.unshift("ta/prwidgets"),requireCallLast.apply(window,a)):require(m,function(){n[s]=n[s].filter(function(t){return t!=u});var t=require(s);(d?t[d]:t).apply(t,a)})}}});
if("undefined"==typeof ta)var ta={};var api=function(){null==window.IS_DEBUG&&(window.IS_DEBUG=!1),null==window.VERSION_MAP&&(window.VERSION_MAP={}),null==window.CDNHOST&&(window.CDNHOST="");var t={overlays:window.ta.overlays||{},maps:window.ta.maps||{},bmaps:window.ta.bmaps||{},common:window.ta.common||{},phac:window.ta.phac||{},servlet:window.ta.servlet||{},support:window.ta.support||{},util:window.ta.util||{},widgets:window.ta.widgets||{},commerce:window.ta.commerce||{},mobfull:window.ta.mobfull||{},photos:window.ta.photos||{},media:window.ta.media||{},hac:{filters:{}},t4b:window.ta.t4b||{},api:{maps:{}},p13n:window.ta.p13n||{},registration:window.ta.registration||{},meta:window.ta.meta||{}};t.id=function(n){try{return document.id(n)}catch(n){t.util.error&&t.util.error.record(n,"ta.id failed")}},t.select=function(){var t=(Array.convert||Array.from)(arguments),n=t.length>1&&("string"==typeof t[0]?t.pop():t.shift())||document,e=t.shift();return Slick.search(n,e,new Elements)};var n=t;return n.extend=function(){var t,n,e,r,o,i,a=arguments[0]||{},u=1,l=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[u]||{},u++),"object"==typeof a||isFunction(a)||(a={});u<l;u++)if(null!=(t=arguments[u]))for(n in t)e=a[n],r=t[n],a!==r&&(s&&r&&(isPlainObject(r)||(o=isArray(r)))?(o?(o=!1,i=e&&isArray(e)?e:[]):i=e&&isPlainObject(e)?e:{},a[n]=extend(s,i,r)):void 0!==r&&(a[n]=r));return a},n.fireEvent=function(t,n,e){return t&&$(t).fireEvent(n,e)},n.addEvent=function(t,n,e){return t&&$(t).addEvent(n,e)},n.removeEvent=function(t,n,e){return t&&$(t).removeEvent(n,e)},n.removeEvents=function(t,n){return t&&$(t).removeEvents(n)},n.createElement=function(t,n){return new Element(t,n)},n.getSize=function(t){return t&&$(t).getSize()},n.getPosition=function(t,n){return t&&$(t).getPosition(n)},n.addClass=function(t,n){return t&&$(t).addClass(n)},n.removeClass=function(t,n){return t&&$(t).removeClass(n)},n.toggleClass=function(t,n,e){return t&&$(t).toggleClass(n,e)},n.hasClass=function(t,n){return t&&$(t).hasClass(n)},n.find=function(t,n){return $(n||document).getElement(t)},n.findAll=n.select,n.parent=function(t,n){return t&&$(t).getParent(n)},n.setStyle=function(t,n,e){return t&&$(t).setStyle(n,e)},n.mixin=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(t){for(var n in t)this[n]=t[n]},t),t},n.merge=function(t){for(var n=Array.prototype.slice.call(arguments,1),e=0,r=n.length;e<r;e++)for(var o in n[e])n[e].hasOwnProperty(o)&&(t[o]=n[e][o]);return t},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.stopEvent=function(t){return t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1),!1},window.define&&define("ta",[],function(){return t}),n}();api.merge(ta,api);var ifdefNN=function(t){return"undefined"!=typeof t&&null!==t};
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install([],[]);});
define("ns-exporter",["vanillajs"],function(r){function n(r){if("undefined"==typeof window)return null;if("undefined"==typeof r&&(r=window),!r)return require.defined("ta/util/Error")&&require("ta/util/Error").record(null,"Using ns-exporter:exportTo without a namespace"),null;if("string"==typeof r){var n=window;n.ta||(ta={}),r.split(".").forEach(function(r){n[r]||(n[r]={}),n=n[r]}),r=n}return r}return{exportTo:function(r,e,t){if(e=n(e),!e)return!1;for(var i in r)!r.hasOwnProperty(i)||t&&i in e||(e[i]=r[i]);return!0},createNs:function(r,e,t){return!!(e=n(e))&&void(e[t]=r)}}});
define("ta/util/Object",["vanillajs","ns-exporter"],function(t,e){var r={};return r.typeOf=function(t){return Object.prototype.toString.call(t).match(/(\w+)\]$/)[1].toLowerCase()},r.merge=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n){t||(t="array"===r.typeOf(n)?[]:{});for(var o in n){var a=n[o];if(n.hasOwnProperty(o)&&"undefined"!==r.typeOf(a)){var i=r.typeOf(a);if("string"===i||"number"===i||"boolean"===i||"function"===i||null===a){t[o]=a;continue}t[o]=r.merge(t[o],a)}}}}return t},e.exportTo(r,"ta.util"),r});
define("utils/resourceLoader",["vanillajs"],function(e){"use strict";function r(){function e(){try{if(navigator.userAgent.match(/ Safari[\/]/)&&!navigator.userAgent.match(/ Chrom/)&&navigator.userAgent.match(/ Version\/5\./))return!1;var e=navigator.userAgent.match(/\ AppleWebKit\/(\d+)\.(\d+)/);if(e){e.shift();var r=parseInt(e[0]),t=parseInt(e[1]);if(r<535||535==r&&t<23)return!1}return"onload"in document.createElement("link")}catch(e){return!1}}function r(e,r,t){u++,(u==c.length||l)&&r(t),t?require.defined("ta/util/Error")&&require("ta/util/Error").record(new Error(e),"utils/resourceLoader: failed to load file ["+e+"]"):n[e]=1}function o(e){return e.match(/\.css$/)?"css":e.match(/\.js$/)?"js":""}function a(t,n,u){var c=n||o(u);if(c){var l,s,f;"css"==c?(l=document.createElement("link"),l.rel="stylesheet",l.type="text/css",f="href",s=e()):"js"==c&&(l=document.createElement("script"),l.type="text/javascript",f="src",s="onload"in l),s?(l.onload=r.bind(null,u,t,!1),"onerror"in l&&(l.onerror=function(){i[u]?r(u,t,!0):(i[u]=!0,a(t,n,u))})):r(u,t,!1),l[f]=u;var d=document.getElementsByTagName("head")[0];d.appendChild(l)}else require.defined("ta/util/Error")&&require("ta/util/Error").record(new Error(u),"utils/resourceLoader: unknown file type for ["+u+"]"),r(u,t,!0)}var u,c,l;this.load=function(e,r,n){if("function"==typeof r&&(n=r,r={}),u=0,c=t(e||null),n=n||function(){},r=r||{},l=r.serial,0==c.length)setTimeout(n,1);else if(l){var i,o=c.slice(),s=function(e){i=i&&e,0==o.length?n&&n(i):a(s,r.forceType,o.shift())};s()}else c.forEach(a.bind(null,n,r.forceType))}}function t(e){var r=[],t=function(e){!e||e in n||(e&&e.splice?e.forEach(t):r.push(e))};return t(e),r}var n={},i={};return{Loader:r,load:function(e,t,n){"function"==typeof t&&(n=t,t={}),(new r).load(e,t,n)},loaded:function(e){return 0==t(e).length}}});
define("common/trackingStreams",["vanillajs","amdloaders"],function(){function l(l,e,t){if(e=Array.prototype.slice.call(e),l.handler)try{l.handler.apply(null,e),t()}catch(l){}else if(l.list){l.list.length>=l.limit&&(l.list=l.list.slice(0,l.list.length-1),l.callbacks=l.callbacks.slice(0,l.callbacks.length-1)),l.list.unshift(e),l.callbacks.unshift(t);var r=l.handlerModule;r&&l.handlerMethod&&(l.handlerModule=null,require([r+""],function(e){n(l,e[l.handlerMethod],0)}))}}function e(l,e){if(e=Array.prototype.slice.call(e),l.handler)try{l.handler.apply(null,e)}catch(l){}else if(l.list&&l.list.length<l.limit&&(l.list.push(e),l.handlerModule&&l.handlerMethod)){var t=l.handlerModule;l.handlerModule=null,require([t+""],function(e){n(l,e[l.handlerMethod],0)})}}function n(l,n,t){if(t=t||0,l.handler&&l.priority>=t)return!1;l.handler=n,l.priority=t;var a=l.list;l.list=null;for(var i=0;i<a.length;++i)try{n.apply(null,a[i]),l.callbacks&&l.callbacks[i]&&l.callbacks[i]()}catch(n){l!==r&&e(r,[n,l.name+" dispatch error"])}}var t="trjs!ta/Core/TA.Record",r={name:"errorQ",limit:3,handler:null,handlerModule:"trjs!ta/util/Error",handlerMethod:"record",list:[]},a={name:"GARecordQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackEventOnPage",list:[]},i={name:"GARecordOnPageOnceQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackEventOnPageOnce",list:[]},d={name:"SetCookieQ",limit:100,handler:null,handlerModule:t,handlerMethod:"setEvtCookie",list:[]},c={name:"UnifiedUserTrackingQ",limit:100,handler:null,handlerModule:t,handlerMethod:"trackUnifiedEvent",list:[]},o={name:"redirectCallback",limit:1,handler:null,handlerModule:t,handlerMethod:"setEvtCookie",list:[],callbacks:[]};return{error:function(){e(r,arguments)},setErrorHandler:function(l,e){n(r,l,e)},trackEvent:function(){e(a,arguments)},trackEventOnPageOnce:function(){e(i,arguments)},setTrackEventHandler:function(l,e){n(a,l,e)},setEvtCookie:function(){e(d,arguments)},trackUnifiedEvent:function(l,n,t){e(c,arguments)},redirectWithEvt:function(){var e=Array.prototype.slice.call(arguments);e.length>0&&"function"==typeof e[0]&&l(o,e.slice(1),e[0])}}});
define("purify",["vanillajs"],function(e){function n(e,n){return e?t(e)?(window.IS_DEBUG&&console.error("You're using a jQuery object where you shouldn't. Check the stack trace and fix it!"),n&&e.length>1?e.get():e.get(0)):e.forEach&&(e.length<=1||!n)?e[0]:e:e}function t(e){return!!(e.animate&&e.get&&e.eq&&e.each)}return n});
define("utils/json-to-url",["vanillajs"],function(){"use strict";return function(n){return n?Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"):""}});
define("utils/asdf-encoder",["ns-exporter","vanillajs"],function(e){"use strict";var t={};return t.getOffset=function(e){return e>=97&&e<=122?e-61:e>=65&&e<=90?e-55:e>=48&&e<=71?e-48:-1},t.asdf=function(e){for(var t={"":["&","=","p","6","?","H","%","B",".com","k","9",".html","n","M","r","www.","h","b","t","a","0","/","d","O","j","http://","_","L","i","f","1","e","-","2",".","N","m","A","l","4","R","C","y","S","o","+","7","I","3","c","5","u",0,"T","v","s","w","8","P",0,"g",0],"q":[0,"__3F__",0,"Photos",0,"https://",".edu","*","Y",">",0,0,0,0,0,0,"`","__2D__","X","<","slot",0,"ShowUrl","Owners",0,"[","q",0,"MemberProfile",0,"ShowUserReviews",'"',"Hotel",0,0,"Expedia","Vacation","Discount",0,"UserReview","Thumbnail",0,"__2F__","Inspiration","V","Map",":","@",0,"F","help",0,0,"Rental",0,"Picture",0,0,0,"hotels",0,"ftp://"],"x":[0,0,"J",0,0,"Z",0,0,0,";",0,"Text",0,"(","x","GenericAds","U",0,"careers",0,0,0,"D",0,"members","Search",0,0,0,"Post",0,0,0,"Q",0,"$",0,"K",0,"W",0,"Reviews",0,",","__2E__",0,0,0,0,0,0,0,"{","}",0,"Cheap",")",0,0,0,"#",".org"],"z":[0,"Hotels",0,0,"Icon",0,0,0,0,".net",0,0,"z",0,0,"pages",0,"geo",0,0,0,"cnt","~",0,0,"]","|",0,"tripadvisor","Images","BookingBuddy",0,"Commerce",0,0,"partnerKey",0,"area",0,"Deals","from","\\",0,"urlKey",0,"'",0,"WeatherUnderground",0,"MemberSign","Maps",0,"matchID","Packages","E","Amenities","Travel",".htm",0,"!","^","G"]},r="",a=0;a<e.length;a++){var n=e.charAt(a),o=n;t[n]&&a+1<e.length?(a++,o+=e.charAt(a)):n="";var s=getOffset(e.charCodeAt(a));r+=s<0||"String"==typeof t[n][s]?o:t[n][s]}return r},e.exportTo(t),t});
define("utils/urlutils",["vanillajs","utils/asdf-encoder"],function(e,n){"use strict";function t(e,n,t){var o=new RegExp("(-"+n+"([0-9]+))|([?&]"+t+"=([0-9]+))"),r=o.exec(e);if(r){if("undefined"!=typeof r[2])return Number(r[2]);if("undefined"!=typeof r[4])return Number(r[4])}}function o(e){return t(e,"d","detail")||t(e,"g","geo")}function r(e){for(var n={},t=e.split("#")[0].split("?")[1]||"",o=t.split("&"),r=0;r<o.length;r++){var i=o[r].split("=");i[0]&&(n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return n}function i(e){var n=[];for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];if(o&&"object"==typeof o)for(var r=0;o.length&&r<o.length;++r){var i=o[r];i="object"==typeof i?"":String(i),n.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}else n.push(encodeURIComponent(t)+"="+encodeURIComponent(String(o)))}return n.join("&")}function f(e){return location.protocol+"//"+location.hostname+e}function u(e){return e=e||"",e.indexOf("http")===-1&&(e=f(e)),e.replace("http://","https://")}function a(e){var n=d.exec(e);return{protocol:n?n[1]:"",host:n?n[2]:""}}var d=/^([^:]+:)\/\/([^\/\?]+)/,l="undefined"!=typeof window&&window.asdf||("undefined"!=typeof global&&global.asdf?global.asdf:n.asdf);return{asdf:l,getUrlArgNumeric:t,getUrlPageLoc:o,getUrlQueryArgs:r,toQueryString:i,https:u,getParts:a}});
define("ajax-request",["utils/json-to-url","utils/urlutils"],function(t,e){function r(t){var r=document.createElement("a");r.href=t;var s=e.getParts(r.href);return s.protocol!==window.location.protocol||s.host!==window.location.hostname}function s(t,e,s){try{r(t)||e.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(t){}try{var n=s["content-type"]||"application/x-www-form-urlencoded; charset=utf-8";e.setRequestHeader("Content-Type",n)}catch(t){}try{var o=s.accept||"text/html, */*";e.setRequestHeader("Accept",o)}catch(t){}try{var a=s["x-requested-by"];a&&e.setRequestHeader("X-Requested-By",a)}catch(t){}}function n(){try{return new XMLHttpRequest}catch(t){try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){throw new Error("Can't create XMLHttpRequest or similar")}}}}return function(e,r){"object"==typeof e&&(r=e,e=r.url),r=r||{};var o=r.method||r.type||"GET",a="string"==typeof r.data?r.data:t(r.data);return new Promise(function(t,c){var u=n(),i=!1;u.onreadystatechange=function(){i||u.readyState!==XMLHttpRequest.DONE||(i=!0,u.status>=200&&u.status<=299?(r.success&&r.success(this.responseText,this.status,u),t(this.responseText)):u.status>0&&(r.error&&r.error(u,this.status,this.statusText),c(this.responseText)),r.complete&&r.complete(u,this.statusText))},"get"===o.toLowerCase()&&"string"==typeof a&&a.length>0&&(e+=("?"===a[0]?"":"?")+a,a=null),u.open(o,e,!r.synchronous),s(e,u,r),u.send(a)})}});
define("utils/object/set-props",["vanillajs"],function(){"use strict";return function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n}});
define("utils/object/shallow-copy",["utils/object/set-props","vanillajs"],function(t){"use strict";return function(r){var e;if("object"!=typeof r||null===r)return r;if(r.constructor===Array){e=[];for(var n=0;n<r.length;++n)e.push(r[n])}else e=t({},r);return e}});
define("utils/objutils",["utils/object/set-props","utils/object/shallow-copy","vanillajs"],function(r,t){"use strict";function e(){var r,t,n,o,i,f,u=arguments[0]||{},c=1,l=arguments.length,a=!1;for("boolean"==typeof u&&(a=u,u=arguments[c]||{},c++),"object"==typeof u||h(u)||(u={});c<l;c++)if(null!=(r=arguments[c]))for(t in r)n=u[t],o=r[t],u!==o&&(a&&o&&(j(o)||(i=y(o)))?(i?(i=!1,f=n&&y(n)?n:[]):f=n&&j(n)?n:{},u[t]=e(a,f,o)):void 0!==o&&(u[t]=o));return u}function n(r){if("object"!=typeof r||null===r||w(r))return r;for(var t in r)r.hasOwnProperty(t)&&(r[t]=n(r[t]));return d(r)}function o(r){if("object"!=typeof r||null===r)return r;for(var t in r)if(r.hasOwnProperty(t)){var e=r[t];null===e?delete r[t]:o(e)}return r}function i(r){var t;if("object"!=typeof r||null===r)return r;if(r.constructor===Array){t=[];for(var e=0;e<r.length;++e)t.push(i(r[e]))}else{t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=i(r[n]))}return d(t)}function f(r){var t;if("object"!=typeof r||null===r)return r;if(r.constructor===Array){t=[];for(var e=0;e<r.length;++e)t.push(f(r[e]))}else{t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=f(r[n]))}return t}function u(r){var t;if("object"!=typeof r||null===r)return r;if(t=r,r.constructor===Array){P(r)&&(t=[],t.length=r.length);for(var e=0;e<r.length;++e)t[e]=u(r[e])}else{P(r)&&(t={});for(var n in r)r.hasOwnProperty(n)&&(t[n]=u(r[n]))}return t}function c(r,t){if(r!==t){if(!r)return!t;if(!t||r.length!==t.length)return!1;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!1}return!0}function l(r,t){if(r!==t){if(!r)return!t;if(!t)return!1;if(y(r)&&y(t))return c(r,t);var e=Object.keys(r);if(!c(e,Object.keys(t)))return!1;for(var n=0;n<e.length;n++)if(r[e[n]]!==t[e[n]])return!1}return!0}function a(r,t){var e,n,o={};for(e=0;e<r.length;++e)n=r[e],o[n[t]]=n;return o}function s(r,t){var e=r[t];if(!e&&!r.propertyIsEnumerable(t))throw"missing property: "+t;return e}function p(r,t){for(var e in r)r.hasOwnProperty(e)&&!t(r,r[e])&&delete r[e];return r}function y(r){return Array.isArray?Array.isArray(r):"[object Array]"===Object.prototype.toString.call(r)}function b(r,t,e){var n;if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,r,e);for(n=t.length,e=e?e<0?Math.max(0,n+e):e:0;e<n;e++)if(e in t&&t[e]===r)return e}return-1}function h(r){var t={};return r&&"[object Function]"===t.toString.call(r)}function j(r){var t,e;return!(!r||"[object Object]"!==Object.prototype.toString.call(r))&&(!(t=Object.getPrototypeOf(r))||(e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor,"function"==typeof e&&Object.toString.call(e)===Object.toString.call(Object)))}function v(r){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function O(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e],e,r))return r[e]}function g(r,t,e){var n,o=0,i=r.length,f=void 0===i||h(r);if(e)if(f){for(n in r)if(t.apply(r[n],e)===!1)break}else for(;o<i&&t.apply(r[o++],e)!==!1;);else if(f){for(n in r)if(t.call(r[n],n,r[n])===!1)break}else for(;o<i&&t.call(r[o],o,r[o++])!==!1;);return r}var d=function(r){return r},w=function(r){return!0},P=function(r){return!1};return"function"==typeof Object.freeze&&(d=Object.freeze.bind(Object),P=Object.isFrozen.bind(Object),w=Object.isFrozen.bind(Object)),{setProps:r,deepFreeze:n,deepFreezeCopy:i,unfreezeForDust:u,undefineNulls:o,shallowCopy:t,deepCopy:f,shallowEquals:l,index:a,need:s,filterProps:p,keys:v,isArray:y,inArray:b,isFunction:h,isPlainObject:j,each:g,extend:e,find:O}});
define("utils/decoder",["common/trackingStreams"],function(r){function e(e){if(e=e.replace(/\-/g,"+").replace(/\_/g,"/"),e.length%4!==0)for(var n=4-e.length%4,t=0;t<n;t++)e+="=";for(var i,a,o,c,f,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="",h="",l="",s=0;s<e.length;s+=4){if(o=d.indexOf(e.charAt(s)),c=d.indexOf(e.charAt(s+1)),f=d.indexOf(e.charAt(s+2)),l=d.indexOf(e.charAt(s+3)),o==-1||c==-1||f==-1&&l==-1)return void r.error({"string":e},"string contains invalid base64 letter");i=o<<2|c>>4,a=(15&c)<<4|f>>2,h=(3&f)<<6|l,g+=String.fromCharCode(i),64!=f&&(g+=String.fromCharCode(a)),64!=l&&(g+=String.fromCharCode(h)),i=a=h="",o=c=f=l=""}return unescape(g)}return{base64Decoder:e}});
define("utils/urlDecoder",["utils/decoder"],function(e){function t(t){if(!t)return null;var n=4;return t=e.base64Decoder(t),t=t.substring(n,t.length-n)}function n(e){return e.getAttribute("href")||t(e.getAttribute("data-params"))}function r(e,n,r,o){new Event(e).preventDefault();var u=n.getAttribute("data-params");return!!u&&(!!(u=t(u))&&(r&&(u+=r),o?window.open(u,"_blank"):window.location=u,!1))}function o(e){if(!u(e))return e;var n=e.substring(c,e.length);return t(n)}function u(e){return e&&"string"==typeof e&&0==e.indexOf(d)&&e.length>c}function i(e){var t=/TAP\|.+?(?=%2F)/.exec(e),n=t[0],r=o(n),u=e.replace(n,r);window.open(u)}var d="TAP|",c=d.length;return{decodeUrl:t,getUrl:n,goToLink:r,decodeProductCode:o,isObfuscatedProductCode:u,goToCommerceLinkWithProductCode:i}});
define("lib/jquery-amd",[],function(){return window.Zepto||ta.jquery||window.jQuery});
define("utils/browserutils",["vanillajs"],function(e){"use strict";var o={},n=window.navigator?window.navigator.userAgent.toLowerCase():"",a=window.navigator?window.navigator.platform.toLowerCase():"",r=n.match(/(opera|ie|firefox|chrome|crios|trident|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],i="ie"==r[1]&&document.documentMode;return"trident"===r[1]&&(r[1]="ie",r[2]=parseInt(r[2],10)+4),o.name="version"==r[1]?r[3]:r[1],o.version=i||parseFloat("opera"==r[1]&&r[4]?r[4]:r[2]),o.Platform={name:n.match(/ip(?:ad|od|hone)/)?"ios":(n.match(/(?:webos|android)/)||a.match(/mac|win|linux/)||["other"])[0]},o[o.name]=!0,o[o.name+parseInt(o.version,10)]=!0,o.Platform[o.Platform.name]=!0,o});
define("utils/stopevent",["vanillajs"],function(){return function(e){return e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1),!1}});
define("utils/form-to-json",["vanillajs"],function(){"use strict";function e(e,n,r){e in r?(Array.isArray(r[e])||(r[e]=[r[e]]),r[e].push(n)):r[e]=n}return function(n){for(var r={},i={file:1,reset:1},t={DATALIST:1,OUTPUT:1},a={checkbox:1,radio:1},o=0;o<n.elements.length;o++){var l=n.elements[o],s=l.name;if(s){var u=l.nodeName,f=l.type;if("SELECT"===u)for(var v=0;v<l.options.length;v++){var c=l.options[v];c.selected&&e(s,c.value,r)}else"INPUT"===u?f in a?l.checked&&e(s,l.value,r):f in i||e(s,l.value,r):u in t||e(s,l.value,r)}}return r}});
define("utils/is-element",["vanillajs"],function(){return function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}});
define("api-mod",["lib/jquery-amd","utils/browserutils","utils/stopevent","utils/form-to-json","utils/to-array","utils/is-element"],function($,browser,stopEvent,formToJson,toArray,isElement){"use strict";var exports={};return exports.fn=function(fn){switch(typeof fn){case"function":return fn;case"string":var f=null;try{f=eval(fn)}catch(t){}if(!f){var ns=fn.split("."),n=ns.pop();try{ns=eval(ns.join(".")),f=ns&&ns._magic&&ns._magic.partial(n)}catch(t){}}if(f&&"function"==typeof f)return f}return null},exports.bind=function(t,e){return Function.prototype.bind.apply(t,Array.prototype.slice.call(arguments,1))},exports.inDocument=function(t){return t=exports.find(t),!!t&&!!t.parentNode&&11!==t.parentNode.nodeType},exports.addEvent=function(t,e,r){$(t).on(e,r)},exports.fireEvent=function(t,e,r){$(t).trigger(e,r)},exports.removeEvent=function(t,e,r){$(t).off(e,r)},exports.removePropertyEvent=function(t,e,r){"on"!==e.substr(0,2)&&(e="on"+e);var o=t.getAttribute(e);if(o){var n,s=r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");n=o.replace(new RegExp(s+"\\s*\\([^)]*\\);?|(ta\\.call|requireCallLast|requireCallIfReady)\\s*\\(\\s*['\"]\\s*"+s+"[^)]*\\);?"),""),t[e]=n.trim()}},exports.store=function(t,e,r){$(t).data(e,r)},exports.retrieve=function(t,e){return $(t).data(e)},exports.getSize=function(t){if(t=exports.find(t),!t)return null;if(/^(?:body|html)$/i.test(t.tagName)||t===window||t===document){var e=document.compatMode&&"CSS1Compat"!==document.compatMode?document.body:document.body.parentNode;return{x:e.clientWidth,y:e.clientHeight}}return{x:t.offsetWidth,y:t.offsetHeight}},exports.getPosition=function(t,e){if(e=$(e),t=$(t),e.length){var r=e.offset(),o=t.offset();return{left:o.left-r.left,top:o.top-r.top}}return t.offset()},exports.getCoords=function(t){if(t=exports.find(t),!t)return null;var e=this.getSize(t),r=this.getPosition(t);return{top:r.top,left:r.left,bottom:r.top+e.y,right:r.left+e.x,height:e.y,width:e.x}},exports.getOffsetParent=function(t){return $(t).offsetParent().get(0)},exports.getParent=function(t,e){if(t=exports.find(t),!t)return null;if(e){for(;t&&"html"!=t.tagName;t=t.parentNode)if(exports.hasClass(t,e))return t;return null}return t.parentNode},exports.elementOrParentMatches=function(t,e){if(e)for(;t;t=t.parentElement)if(e(t))return!0;return!1},exports.containsElement=function(t,e){if(t=exports.find(t),e=exports.find(e),!t||!e)return!1;for(;null!=e;){if(e===t)return!0;e=e.parentElement}return!1},exports.checkBrowser=function(t){var e=Array.prototype.slice.call(arguments);return e.some(function(t){return!!browser[t]})},exports.containsEvent=function(t,e){if(t=exports.find(t),!e||!t)return!1;var r=e.pageX,o=e.pageY,n=this.getCoords(t);return"fixed"!==$(this.getOffsetParent(t)||t).css("position")&&"undefined"!=typeof r&&"undefined"!=typeof o||(r=e.clientX,o=e.clientY),o>=n.top&&o<=n.bottom&&r>=n.left&&r<=n.right},exports.select=function(t,e){var r=Array.prototype.slice.call(arguments),o=r.length>1&&("string"==typeof r[0]?r.pop():r.shift())||document,n=r.shift();try{return $(n,o).get()}catch(t){return[]}},exports.addClass=function(t,e){$(t).addClass(e)},exports.removeClass=function(t,e){$(t).removeClass(e)},exports.toggleClass=function(t,e,r){$(t).toggleClass(e,r)},exports.hasClass=function(t,e){return t&&$(t).hasClass(e)},exports.destroy=function(t){$(t).remove().get()},exports.find=function(t,e){try{return $(t,e||document)[0]}catch(t){}},exports.scrollTop=function(){var t=void 0!==window.pageYOffset,e="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop},exports.scrollLeft=function(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft},exports.createElement=function(t,e){var r=document.createElement(t);return e&&$(r).attr(e),r},exports.isElement=isElement,exports.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},exports.adopt=function(t,e){$(t).append(Array.prototype.slice.call(arguments,1))},exports.setStyle=function(t,e,r){$(t).css(e,r)},exports.stopEvent=stopEvent,exports.mixin=function(t,e){return Array.prototype.slice.call(arguments,1).forEach(function(e){for(var r in e)t[r]=e[r]},t),t},exports.merge=function(t,e){for(var r=Array.prototype.slice.call(arguments,1),o=0,n=r.length;o<n;o++)for(var s in r[o])r[o].hasOwnProperty(s)&&(t[s]=r[o][s]);return t},exports.getFormData=function(t){return formToJson($(t).get(0))},exports.toFormQueryString=function(t){var e=[];t&&"FORM"===t.nodeName&&(t=exports.getFormData(t));for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(o&&"object"==typeof o)for(var n=0;o.length&&n<o.length;++n){var s=o[n];s="object"==typeof s?"":String(s),e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}else e.push(encodeURIComponent(r)+"="+encodeURIComponent(String(o)))}return e.join("&")},exports.toArray=toArray,exports.forceReflow=function(t){$(t).each(function(t,e){e.offsetWidth})},exports.stripTags=function(t,e,r){e=e||"";var o=r?"<"+e+"(?!\\w)[^>]*>([\\s\\S]*?)</"+e+"(?!\\w)>":"</?"+e+"([^>]+)?>";return t.replace(new RegExp(o,"gi"),"")},exports});
define("ta/Core/TA.Store",["vanillajs","ns-exporter","ta/util/Object"],function(e,r,t){"use strict";var n={},a={};return a.store=function(e,r){return n[e]=r,r},a.retrieve=function(e){return n[e]},a.has=function(e){return"undefined"!=typeof n[e]},a.retrieveOrStore=function(e,r){var t=n[e];return"undefined"==typeof t&&(n[e]=r,t=r),t},a.remove=function(e){var r=n[e];return delete n[e],r},a.keep=function(e,r){var t,n=a.retrieve(e);t=n?n instanceof Array?n:[n]:[],r instanceof Array?r.forEach(function(e){t.contains(e)||t.push(e)}):t.push(r),a.store(e,t)},a.merge=function(e,r){a.store(e,t.merge(a.retrieve(e)||{},r))},a.asInt=function(e,r){var t=parseInt(a.retrieve(e));return isNaN(t)?r||0:t},a.asFloat=function(e,r){var t=parseFloat(a.retrieve(e));return isNaN(t)?r||0:t},a.executeCallbacks=function(e){if(a.has(e)){var r=a.retrieve(e);if(!r instanceof Array)return;for(var t=0;t<r.length;t++)r[t]()}},r.exportTo(a,"ta"),a});
define("ta/Core/TA.Record",["vanillajs","ns-exporter","ta/Core/TA.Store","purify","ajax-request","utils/objutils","utils/urlDecoder"],function(e,t,n,r,a,i,o){"use strict";var u={},l={},c=[],s=8,d="impressionTrackingTree",g=0,f=1,v=2,p="UserTracking",m="impression",h="action",k="pageview",y="search",E=[],T=60,P=function(e){return"function"==typeof e},b=function(e,t){try{if(!e||"object"!=typeof t)return;if(window.JSON&&JSON.stringify){var n=JSON.stringify(t);n&&n.length<1e5&&(E.push([e,n]),E.length>T&&E.shift())}}catch(e){}},_=function(e,t,n,r){a(e,t).then(n,r),b(e,t)},S=function(){if(require.defined("ta/util/Error")){var e=require("ta/util/Error");e.record.apply(e,arguments)}else ta&&ta.m&&P(ta.m.recordJSError)&&ta.m.recordJSError(arguments)},C=function(e){return"undefined"==typeof e||null==e?"":("string"!=typeof e&&(e=e.toString()),e.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*"))},w=function(e){var t=[];for(var n in e){var r=e[n];t.push(C(n)+"."+C(r))}return t.join("*")},A=function(e){return"undefined"==typeof e||null===e?"":("string"!=typeof e&&(e=e.toString()),e.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*").replace(/\~/g,"!~"))},N=function(e){var t=[];for(var n in e){var r=e[n];t.push(A(n)+"."+A(r))}return t.join("*")},R=function(e){var t=/(https?:\/\/[^\/]+)?\/([^#.?-]*)/,n=t.exec(e);return n&&"undefined"!=typeof n[2]?n[2]?n[2]:"Home":null},O=function(){var e=u.getPageData();if(e&&e.url)return e.url.substring(1);var t=/\/([^-]*)/.exec(window.location.pathname);return t?t[1]:null},I=function(){var e=ta.uid;if(require.defined("redux-init")){var t=require("redux-init");t&&t.tracking&&t.tracking.uid&&(e=t.tracking.uid)}return e},x=function(e,t,n){var r=new RegExp("(-"+t+"([0-9]+))|([?&]"+n+"=([0-9]+))"),a=r.exec(e);if(a){if("undefined"!=typeof a[2])return a[2];if("undefined"!=typeof a[4])return a[4]}return null},M=function(e){return x(e,"d","detail")||x(e,"g","geo")},q=function(e){var t=document.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return!!t&&(t=t[1],0===t.indexOf("%1%")&&(t=t.substring(3)),decodeURIComponent(t))},L=function(e,t,n){try{var r;n.encode&&(t=encodeURIComponent(t)),n.domain&&(t+="; domain="+n.domain),n.path&&(t+="; path="+n.path),n.duration&&(r=new Date,r.setTime(r.getTime()+1e3*n.duration),t+="; expires="+r.toGMTString()),n.secure&&(t+="; secure"),document.cookie=e+"="+t}catch(e){S(e,"_setCookieInSeconds",null,arguments)}},D=function(){return ta.m&&ta.m.store&&ta.m.store.has("bookingSessionId")?ta.m.store.get("bookingSessionId"):null},H=function(){var e=!1;return"boolean"==typeof ta.userLoggedIn&&(e="boolean"==typeof ta.userSecurelyLoggedIn?ta.userLoggedIn?ta.userSecurelyLoggedIn?v:f:g:ta.userLoggedIn),e},U=function(e,t){var r={gac:e[1],gaa:e[2],gal:e[3],gav:e[4],gani:e[5],gass:O(),gasl:M(document.location.href),gads:R(t),gadl:M(t),gapu:I(),gams:H()},a=D();if(!r.gass)throw new Error("Src servlet undefined, gac:"+r.gac+", gaa:"+r.gaa+", gal:"+r.gal);if(!r.gads)throw new Error("Dst servlet undefined. gac:"+r.gac+", gaa:"+r.gaa+", gal:"+r.gal);n.has("gatt")&&(r.gatt=n.retrieve("gatt")),a&&(r.bsid=a),L("EVT",w(r),{domain:cookieDomain,duration:5,encode:!0,path:"/"})},j=function(e){if(!e||!e.className||!e.firstChild)return!1;var t=new RegExp("\\b"+d+"\\b"),n=e.firstChild.nodeType,r=e.firstChild.nodeValue;return t.test(e.className)&&n===s&&""!==r},J=function(){};require.defined("page-model")&&require(["page-model"],function(e){var t=e.session,r=t.analyticsInfo;r&&(n.keep("partials.pageProperties",r.pagePropertyStringForCurrentPageview),n.store("gaMemberState",r.memberState),t.analyticsInfo&&require.defined("ta/Core/TA.Prerender")&&require("ta/Core/TA.Prerender")._init(!0)),J=function(){r&&c.push(JSON.parse(r.jsonForCurrentPageview)),J=function(){}}}),u.getPageData=function(){return J(),c[c.length-1]},u.pushPageData=function(e){J(),e&&c.push(e)},u._GARecordRequest=function(e,t){var r,a={gac:e[1],gaa:e[2],gal:e[3],gav:e[4],gani:e[5],gass:O(),gasl:document.location?M(document.location.href):null,gapu:I(),gams:H()},i=D();return t&&(a.gacl=t),n.has("gatt")&&(a.gatt=n.retrieve("gatt")),i&&(a.bsid=i),r=require.defined("utils/BatchRequest")?{get:function(){require("utils/BatchRequest").queue("/GARecord",a)}}:{get:function(){setTimeout(function(){var e=new XMLHttpRequest;e.open("GET","/GARecord?"+W(a),!0),e.send(null)},1)}},b("/GARecord",a),r};var W=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")};l.urlArgLookup=function(e,t){var n=new RegExp("[\\?&]"+e+"=(\\w+)"),r=n.exec(t);return r&&"undefined"!=typeof r[1]?r[1]:null},u._validatedTrackEventArray=function(e,t,n,r,a){return e&&"string"!=typeof e&&(e=e.toString()),t&&"string"!=typeof t&&(t=t.toString()),n&&"string"!=typeof n&&(n=n.toString()),r?"number"!=typeof r&&(r=parseFloat(r),isNaN(r)&&(r=0)):r=0,"boolean"!=typeof a&&(a=a===!0),["_trackEvent",e,t,n,r,a]},u._toEvtParams=function(e){try{var t={gac:e.module,gaa:e.action,gal:e.context,gav:e.value,gani:e.noninteraction};return t.gass=O(),t.gasl=M(document.location.href),t.gapu=I(),t.gams=H(),t}catch(t){S(t,"analytics._toEvtParams",null,e)}},u._trackEventAfterAjax=function(e){try{l.trackDMPBehavior(e.module,e.action,e.context,e.value,e.noninteraction)}catch(t){S(t,"analytics._trackEventAfterAjax",null,e)}},l.getEventPathOptions=function(e,t,n){try{var r=z(n,e);if(!r)return void S(null,"ta.getEventPathOptions - invalid element",null,arguments);var a=$(r);return t&&(a.noninteraction=t),a}catch(e){S(e,"ta.getEventPathOptions",null,arguments)}},u._trackEventPathAfterAjax=function(e){try{l.trackEventOnPage(e.category,e.action,e.label,e.value,e.noninteraction)}catch(e){S(e,"analytics._trackEventPathAfterAjax",null,arguments)}},l.trackPhysicalCommerce=function(e,t,n,r){try{var a=u._validatedTrackEventArray(e,"Commerce-Physical",t,n,!1);u._GARecordRequest(a,r).get()}catch(e){S(e,"ta.trackPhysicalCommerce",null,arguments)}},l.trackAttemptedCommerce=function(e,t,n){try{l.trackDMPBehavior(e,t,n,null,null)}catch(e){S(e,"ta.trackAttemptedCommerce",null,arguments)}},l.trackPhysicalAndAttemptedCommerce=function(e,t,n,r,a){l.trackPhysicalCommerce(e,t,r,a),l.trackAttemptedCommerce(e,t,n,r)},l.trackImpressionEventOnPage=function(e,t,n,r){e=e||"",t=t||"",n=n||"",r=r||0,l.trackEventOnPage(e,t,n,r,!0)},l.trackEventOnPage=function(e,t,n,r,a){o.isObfuscatedProductCode(e)&&(e=o.decodeProductCode(e)),o.isObfuscatedProductCode(t)&&(t=o.decodeProductCode(t)),o.isObfuscatedProductCode(n)&&(n=o.decodeProductCode(n));try{var i=u._validatedTrackEventArray(e,t,n,r,a);u._GARecordRequest(i).get()}catch(e){S(e,"ta.trackEventOnPage",null,arguments)}},l.trackEventOnPageOnce=function(e,t,r,a){var i,o="eventsAlreadyTracked";i="object"==typeof ta&&ta.m&&ta.m.store?ta.m.store.get(o):n.retrieve(o),i||(i={},"object"==typeof ta&&ta.m&&ta.m.store?ta.m.store.add(o,i):n.store(o,i));var u=e+"|"+t+"|"+r;i[u]||(l.trackEventOnPage(e,t,r,0,a),i[u]=!0)},l.trackDMPBehavior=function(e,t,n,r,a){},l.setEvtCookie=function(e,t,n,r,a){try{var i=u._validatedTrackEventArray(e,t,n,r,!1);if(U(i,a),require.defined("ta/common/behavior/dmp/DMP")){var o=require("ta/common/behavior/dmp/DMP");o.isEnabled()&&o.sendEventBehavior(e,t,n,r,Z())}}catch(e){S(e,"ta.setEvtCookie",null,arguments)}};var G=function(e){var t;try{if(t=q("MEVT")||"",t.length>0&&(t+="~"),t+=N(e),t.length>1024)throw"MEVT Cookie is full";L("MEVT",t,{domain:cookieDomain,duration:5,encode:!0})}catch(e){return S(e,"_appendMevtCookie",null,arguments),!1}return!0},B="trk",V=B.length,F="etk",X=/^([A-Z]{1,2}:)?[A-Za-z_0-9\-\.]+$/,Z=function(){var e="undefined"!=typeof event?event:window.event;return e?e.target||e.srcElement:document.activeElement};u.getCommentTrackingPath=function(e,t){return z(e,t)};var z=function(e,t){if(e=r(e),!e&&(e=Z(),!e))return S(null,"_getCommentTrackingPath - no element provided or event target element",null,arguments),null;if(1!=e.nodeType)return null;var n=[];if(t&&"string"==typeof t&&""!==t&&X.test(t)){if("P:"==t.substring(0,2))return n.push(t.substring(2)),n;n.push(t)}if("undefined"==typeof e.previousSibling)return S(null,"_getCommentTrackingPath - browser does not support previousSibling",null,arguments),n;e:for(var a=e;a!=document.body;a=a.parentNode){if(null==a){S(null,"_getCommentTrackingPath - LOOP_PARENT_NODES got unexpected null node",null,arguments);break}for(var i=0,o=a.previousSibling;null!=o;o=o.previousSibling)if(o.nodeType==s){var u=o.nodeValue;if(u==F){i++;continue}if(u.substring(0,V)!=B)continue;if(i>0){i--;continue}var l=u.substring(V).split("/");l||S(null,'ta._getCommentTrackingPath - cannot split context class: "'+u+'"',null,arguments);for(var c=l.length-1;c>=0;c--){var d=l[c],g=X.exec(d);if(g){if("P:"==g[1]){var f=g[0].substring(2);n.push(f);break e}n.push(g[0])}else S(null,'ta._getCommentTrackingPath - tracking prefix used with invalid context: "'+l[c]+'"',null,arguments)}}}return n},$=function(e){if(0===e.length)return null;var t={"action":e[0],"label":"","value":"1","category":e[e.length-1]};e.shift();for(var n=e.length-2;n>=0;n--)t.label+=e[n],n>0&&(t.label+="/"),"N:"==e[n].substring(0,2)&&(t.value=e[n].substring(2));return""===t.label&&(t.label="Unknown"),t};l.trk=function(e,t,n,a){n=r(n);try{var i=n?n.getAttribute("data-trk-path"):null;if(i)i=i.replace("P:",""),i=i.split("/"),i.reverse();else if(i=z(n,e),!i||!i.length){var o="";if(n)if(n.outerHTML){var u=document.createTextNode(n.outerHTML),c=document.createElement("div");c.appendChild(u),o=c.innerHTML.substring(0,100)}else n.nodeName?o=n.nodeName:o+=n;else void 0===n?o="undefined":null===n&&(o="null");return e||(e=null===i?"null path":void 0===i?"undefined path":i.hasOwnProperty("length")?0===i.length?"empty path":i.join(","):"path: "+i),void S(null,"ta.trk - invalid element for "+e+" from "+o,null,arguments)}l.trkWithPath(i,t,a)}catch(e){S(e,"ta.trk",null,arguments)}},l.trkWithPath=function(e,t,n){try{if(!e||!e.length)return void S(null,"ta.trkWithPath - no path in arguments",null,arguments);if(n&&n.length>0&&e.length&&e.splice)for(var r=n.length-1;r>=0;r--)"string"==typeof n[r]&&e.splice(1,0,n[r]);var a=$(e);l.trackEventOnPage(a.category,a.action,a.label,a.value,t)}catch(e){S(e,"ta.trkWithPath - "+e,null,arguments)}},l.trkImpTree=function(e){try{if(!j(e))return void S(null,"ta.trkImpTree called with invalid trackTreeElem!",null,arguments);var t=e.firstChild.nodeValue;ne(t)}catch(e){S(e,"ta.trkImpTree",null,arguments)}},l.recordImpression=function(e,t){if(!e)return void(t&&t());try{ne(Y(e),t)}catch(e){S(e,"ta.recordImpression",null,arguments),t&&t()}};var K="<!--",Q="-->",Y=function(e){var t=e.indexOf(K),n=0,r=e.indexOf(Q);return t!==-1&&(n=t+K.length),r===-1&&(r=e.length),e.substring(n,r)};u.stripCommentsFromTree=Y;var ee="\\",te="/";u.appendAscendTokens=function(e){var t=0,n=0,r=0;for(t=0;t<e.length;t++)if(e[t]===te)r++;else if(e[t]===ee)for(n=t+1;n<e.length&&e[n]===ee;)r--,t=n,n++;if(r>0)for(t=0;t<r;t++)e+=ee;return e};var ne=function(e,t){var n={tTreeStr:e&&e.trim(),tTreeUid:ta.uid&&ta.uid.trim(),tTreeLastReferrer:window.location.href,tTreeIsMemberSignedIn:H()};ta.m&&ta.m.store&&ta.m.store.has("bookingSessionId")&&(n.bsid=ta.m.store.get("bookingSessionId")),n.tTreeStr?n.tTreeUid||S(new Error("tTreeUid is null/undefined/empty."),"ta._sendTreeImpression",null):S(new Error("tTreeStr is null/undefined/empty."),"ta._sendTreeImpression",null),_("/ImpressionRecord",{method:"POST",url:"/ImpressionRecord",data:n},t)};l.setEvtCookieAndPath=function(e,t,n){try{n||(n=Z());var r=z(n,e);if(!r)return void S(null,"ta.setEvtCookieAndPath - invalid element for "+e,null,arguments);var a=$(r);if(!t){for(;"A"!=n.nodeName&&n!=document.body;)n=n.parentNode;if(t=n.href,!t)return void S(null,"ta.setEvtCookieAndPath - no url parameter and cannot find a.href",null,arguments)}l.setEvtCookie(a.category,a.action,a.label,a.value,t)}catch(e){S(e,"ta.setEvtCookieAndPath",null,arguments)}},l.recordPageview=function(e,t){if(e){var n=R(e),r="/PageviewRecord",a=t?t:{};n&&(a.servletName=n,_(r,{method:"POST",data:a}))}},l.recordTabView=function(e,t,n){if(e&&t){var r=e+"-"+t,a="/PageviewRecord",i=n?n:{};i.servletName=r,_(a,{method:"POST",data:i})}},l.resetPageDataUrl=function(){var e=u.getPageData();e&&(e.url="")},l.trackEngagementClick=function(e,t){return e&&t?P(t)?void t(e):void S(new Error("passed variable selectionFunction is not a function"),"ta.trackEngagementClick",null,t):void S(new Error("object/selectionFunction is null/undefined"),"ta.trackEngagementClick",null,arguments)},l.placementNodeSelectorTracker=function(e){if(!e||!e.element||!e.type)return void S(new Error("object/element/type is null/undefined"),"ta.placementNodeSelectorTracker",null,e);var t,n,r,a,i,o,c=e.element,s=e.type,d=u.getCommentTrackingPath(c);if(s+="_Click",!d)return void S(new Error("trackTreePath is null/undefined"),"ta.placementNodeSelectorTracker",null,arguments);if(d.length<1)return void S(new Error("trackTreePath is missing information"),"ta.placementNodeSelectorTracker",null,arguments);if(t=d[d.length-1],!t)return void S(new Error("placement is null/undefined"),"ta.placementNodeSelectorTracker",null,d);for(o=d.length-1;o>=0;o--)if(i=d[o],i&&0===i.indexOf("N:")){n=i;break}if("HH_MainList"===t||"Maps_MetaBlock"===t)n="N:1";else if(!n)return void S(new Error("positionNode is null/undefined"),"ta.placementNodeSelectorTracker",null,d);if(r=n.split(":"),!r||2!==r.length)return void S(new Error("positionSplit appears to be incorrect"),"ta.placementNodeSelectorTracker",null,arguments);if(a=r[1],!a)return void S(new Error("position is null/undefined"),"ta.placementNodeSelectorTracker",null,arguments);var g=parseInt(a,10);if(isNaN(g))return void S(new Error("position is not a number"),"ta.placementNodeSelectorTracker",null,a);var f=ae(t);if(f!==-1){a=g+f,t=re(t);var v,p=document.querySelectorAll(".ui_tab_bar .ui_tab.selected");1===p.length&&(p=p[0],v=p.getAttribute("data-currentSort")),l.trackEventOnPage(t,s,v,a)}};var re=function(e){if(!e)return e;if("Hotels"!==O())return"Clicks_"+e;var t;return"Hotels_MainList"===e||"Hotels_MainList_Sponsored"===e||"Hotels_MainList_Discovery_Sponsored_Listing"===e?t="Clicks_"+e:"sponsored_coupon_listing"===e&&(t="Clicks_Hotels_MainList_Sponsored"),document.getElementById("sponsoredCouponListingWrap")&&"Clicks_Hotels_MainList"===t&&(t+="_Sponsored"),t+=ta.widgets.calendar.getCheckRatesData()?"_PostDates":"_PreDates"},ae=function(e){if(!e)return S(new Error("placement is null/undefined"),"ta._shiftOrdinalsWithSponsoredPlacement",null,e),-1;if("Hotels"!==O())return 0;var t=0,r=n.retrieve("hac.offset");if(r&&r>0&&(t=r),!document.getElementById("sponsoredCouponListingWrap"))return t;var a,i=document.querySelector("#HAC_RESULTS .pageNumbers .current");if(i){var o=i.getAttribute("data-page-number");if(a=parseInt(o,10),isNaN(a)||!a)return S(new Error("pageNumber is not a number"),"ta._shiftOrdinalsWithSponsoredPlacement",null,o),-1}return"Hotels_MainList"===e?t+=a:(r&&r>0&&("sponsored_coupon_listing"===e||"Hotels_MainList_Sponsored"===e||"Hotels_MainList_Discovery_Sponsored_Listing"===e)&&(t+=a-1),t)};l.getRecentTARecords=function(){return E},l.addTypeAheadMevt=function(e){return e.t="ta",G(e)},l.addGARecordMevt=function(e,t,r,a,i){try{var o=u._validatedTrackEventArray(e,t,r,a,!1),l={t:"ga",gac:o[1],gaa:o[2],gal:o[3],gav:o[4],gani:o[5],gass:O(),gasl:M(document.location.href),gads:R(i),gadl:M(i),gapu:I(),gams:H()},c=D();if(!l.gass)throw new Error("Src servlet undefined, gac:"+l.gac+", gaa:"+l.gaa+", gal:"+l.gal);if(!l.gads)throw new Error("Dst servlet undefined. gac:"+l.gac+", gaa:"+l.gaa+", gal:"+l.gal);if(n.has("gatt")&&(l.gatt=n.retrieve("gatt")),c&&(l.bsid=c),G(l),require.defined("ta/common/behavior/dmp/DMP")){var s=require("ta/common/behavior/dmp/DMP");s.isEnabled()&&s.sendEventBehavior(e,t,r,a,Z())}}catch(e){S(e,"ta.addGARecordMevt",null,arguments)}},l.trackInteractions=function(e,t,n){var r={"elmtSource":e,"elmtType":n};r=i.extend(r,t),_("/UserInteractionRecord",{method:"POST",url:"/UserInteractionRecord",data:r},null,function(){S(null,"taRecord.trackInteractions",null,r)})},l.addInteractionsMEVT=function(e,t,n){var r={"t":"ia","ias":e,"iak":ie(t),"iat":n};G(r)};var ie=function(e){var t="";return Object.keys(e).forEach(function(n){t=t+n+"^"+e[n]+"+"}),0==t.length?t:t.slice(0,-1)},oe=!1,ue=function(e,t){return oe||(oe=require.defined("page-model")?require("page-model").session:{}),!!oe.useERUserTracking&&!(oe.ERUserTrackingEventNames&&oe.ERUserTrackingEventNames.length>0&&oe.ERUserTrackingEventNames.indexOf(e)<0)},le=function(e,t,n){if(ue(e,t)){var r=oe.uid&&{request_uid:oe.uid}||{},a={event_name:e,event_type:t,attr:JSON.stringify(i.extend(n,r))},o={get:function(){setTimeout(function(){var e=new XMLHttpRequest;e.open("GET","/UserTrackingRecord?"+W(a),!0),e.send(null)},1)}};return o.get()}n.event_name=e,l.trackEventOnPage(p,t,JSON.stringify(n))};l.trackImpressionWithJson=function(e,t){le(e,m,t)},l.trackActionWithJson=function(e,t){le(e,h,t)},l.trackPageviewWithJson=function(e,t){le(e,k,t)},l.trackSearchWithJson=function(e,t){le(e,y,t)},l.trackUnifiedEvent=le,t.createNs(u,"ta","analytics"),t.exportTo(l,"ta");var ce={};return t.exportTo(u,ce),t.exportTo(l,ce),ce});
define("utils/ajax",["lib/jquery-amd","ta/Core/TA.Record","utils/form-to-json"],function(e,t,i){function n(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}return function(r,a){r.substr||(a=r);var s=e.extend({},a,{dataFilter:function(e,t){return"json"==t&&(e=e.replace(/^\s*while\s*\([^)]*\);?/,"")),a&&a.dataFilter&&a.dataFilter.call(this,e,t),e}});s.xhrFields=s.xhrFields||{},s.xhrFields.withCredentials=!0,n(s.data)&&(s.data=i(s.data));var c=s.trackEvent;return c&&(e.extend(s,t._toEvtParams(c)),s.complete=function(){t._trackEventAfterAjax(c),a&&a.complete&&a.complete.apply(this,arguments)}),s.evalScripts&&(s.success=function(t,i,n){if(t&&t.substr){var r,s;e.parseHTML?(r=e(e.parseHTML(t,document,!0)),s=r.filter("script").add(r.find("script"))):(r=e("<div>"+t+"</div>"),s=r.find("script")),s.each(function(e,t){if(t.innerHTML)if(window.execScript)window.execScript(t.innerHTML);else if(window.eval)window.eval(t.innerHTML);else{var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.text=t.innerHTML,document.head.appendChild(i),document.head.removeChild(i)}})}a&&a.success&&a.success.apply(this,arguments)}),r.substr?e.ajax(r,s):e.ajax(s)}});
define("mixins/Events",["vanillajs"],function(e){"use strict";var t=function(){this.events={},Array.prototype.slice.call(arguments).forEach(function(e){this.events[e]=[]},this)};return t.create=function(){function e(e){return t.apply(this,e)}return e.prototype=t.prototype,function(){return new e(arguments)}}(),t.extend=function(e,r){var i=Object.create(t.prototype);return i.delegate=e,t.apply(i,r),i},t.prototype.on=t.prototype.addListener=function(e,t){return void 0!==this.events[e]?this.events[e].push(t):this.delegate?this.delegate.on(e,t):this.events[e]=[t],this},t.prototype.off=t.prototype.removeListener=function(e,t){if(void 0!==this.events[e])if(t){var r=this.events[e].indexOf(t);r>=0&&this.events[e].splice(r,1)}else this.events[e].length=0;else this.delegate&&this.delegate.removeListener(e,t);return this},t.prototype.removeAllListeners=function(e){if(e&&void 0!==this.events[e])this.events[e].length=0;else if(e)this.delegate&&this.delegate.removeAllListeners&&this.delegate.removeAllListeners(e);else{for(var t in this.events)this.events.hasOwnProperty(t)&&(this.events[t].length=0);this.delegate&&this.delegate.removeAllListeners&&this.delegate.removeAllListeners()}},t.prototype.hasListeners=function(e){if(e){if(this.events.hasOwnProperty(e))return this.events[e].length>0;if(this.delegate&&this.delegate.hasListeners)return this.delegate.hasListeners(e)}return!1},t.prototype.emit=function(e,t){if(this.events[e]){var r=Array.prototype.slice.call(arguments,1);this.events[e].slice(0).forEach(function(t){if(t)try{t.apply(this,r)}catch(t){"string"==typeof t&&(t=new Error(t));var i="Error in event handler for "+e;if(require.defined("ta/util/Error"))require("ta/util/Error").record(t,i);else{var s=require.defined("ta")&&require("ta");s&&s.log&&s.log.error?s.log.error(t,i):s&&s.m&&s.m.recordJSError?s.m.recordJSError([t,i]):"undefined"!=typeof console&&(console.error||console.log)(i,t)}}},this)}else this.delegate&&this.delegate.emit&&this.delegate.emit.apply(delegate,arguments);return this},t});
define("ta/util/Cookie",["vanillajs","ns-exporter"],function(e,o){var t=0,n=5e3,i={cookiePIDName:"NPID",ONE_DAY:864e5,ONE_HOUR:36e5,setPIDCookie:function(e){i.write(i.cookiePIDName,e,n,"/",window.cookieDomain)},removePIDCookie:function(){try{i.write(i.cookiePIDName,"",t,"/",window.cookieDomain)}catch(e){}},canSet:function(){return document.cookie="SessionTest=true",!!document.cookie.match("(^|;)\\s*SessionTest=true\\s*(;|$)")&&(document.cookie="SessionTest=; expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)},readRaw:function(e){e=e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");var o=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]*)"));return!!o&&o[1]},remove:function(e,o,t){i.write(e,"",new Date(1e3),o,t)},write:function(e,o,t,n,i){"number"==typeof t&&(t=new Date(Date.now()+t)),document.cookie=e+"="+o+(t?"; expires="+t.toUTCString():"")+(n?"; path="+n:"")+(i?"; domain="+i:"")},setOneTimeCookieOnFQDN:function(e,o){return i.write(e,o,5e3),!0},setOneTimeCookie:function(e,o){return i.write(e,o,5e3,null,window.cookieDomain),!0}};return o.exportTo({setPID:i.setPIDCookie}),o.createNs(i,"ta.util","cookie"),i});
define("ta/Core/TA.LocalStorage",["vanillajs","common/trackingStreams","ns-exporter"],function(e,t,n){"use strict";var r=!1,o="taLsTest",i="1",a="TALocalStorageCurrentSessionId",u=!1,s="session-",l=!1,c=[],f=[],v=[],g=function(){return!(!u&&!l)},m=function(e){return!!g()||(t.error(null,"Accessing localStorage session cookie before session logic intialized: "+e),!1)},S=function(e){return d(e,"value")},y=function(e){return d(e,"now")},d=function(e,t){if(!t)return null;try{var n,o=JSON.parse(r.getItem(e)||"0");return o?o.ttl&&o.ttl+o.now<(new Date).getTime()?(r.removeItem(e),null):o.hasOwnProperty(t)?(r.setItem("512",o[t]),n=r.getItem("512"),r.removeItem("512"),n):null:null}catch(e){}return null},h=function(e,t){try{var n=JSON.parse(e||"0");return n&&n.hasOwnProperty(t)?n[t]:null}catch(e){return null}},w=function(e){try{var t=JSON.parse(r.getItem(e)||"0");return t?t.ttl&&t.ttl+t.now<(new Date).getTime()?(r.removeItem(e),null):t.value:null}catch(e){}return null},I=function(e){try{r.removeItem(e)}catch(e){}},p=function(e,t){var n=y(e);if(t&&n&&n<(new Date).getTime()-t)try{r.removeItem(e)}catch(e){}},O=function(e){try{var t=r.getItem(e);if(null!==t&&void 0!==t)return!0}catch(e){}return!1},T=function(e,t,n){try{r.setItem(e,JSON.stringify({ttl:n||0,now:(new Date).getTime(),value:t}))}catch(e){}},k=function(e){if(l=!0,!e)return t.error(null,"Attempting to initialize localStorage with invalid sesion key: "+e),!1;if(!V())return!1;if(u=S(a),!u||u!=e){u=e,T(a,u);var n=S("latestPageServlet");n&&T("sessionEntryServlet",n),E(),O(a)&&require.defined("ta/Core/TA.Store")&&require("ta/Core/TA.Store").store("isFirstSessionPageView",!0)}for(var r=0;r<v.length;r++)v[r]();v=[]},E=function(){try{var e=s+u,t=new RegExp("^"+s);if(r.length)for(var n=0;n<r.length;n++){var o=r.key(n);try{t.test(o)&&o!=e&&I(o)}catch(e){}}}catch(e){}},V=function(){try{if(r&&r.setItem){r.setItem(o,i);var e=r.getItem(o)!=i;return r.removeItem(o),e&&(r=!1),!!r}}catch(e){}return!1},N=function(e){try{r.setItem("session-"+u,JSON.stringify(e))}catch(e){}},b=function(){try{var e=r.getItem("session-"+u);if(e)return JSON.parse(e)}catch(e){}return{}},A=function(e){c.push(e)},C=function(e,t){f[e]||(f[e]=[]),f[e].push(t)},J=function(e){"function"==typeof e&&(g()?e():v.push(e))},L={enabled:V(),get:S,getObject:w,set:T,remove:I,removeIfElapsed:p,has:O,getTimeStamp:y,updateSessionId:k,onSessionStorageChange:A,onValueChange:C,canUseSession:g,onLocalStorageSessionInit:J,getSessionKey:function(e){if(!m(e))return null;var t=b();return t?t[e]:null},setSessionKey:function(e,t){if(m(e)){var n=b();n||(n={}),n[e]=t,N(n)}},removeSessionKey:function(e){if(m(e)){var t=b();t&&(delete t[e],N(t))}},hasSessionKey:function(e){if(!m(e))return!1;var t=b();if(t){var n=t[e];if(null!==n&&void 0!==n)return!0}return!1},setStorage:function(e){r=e,L.enabled=V()}};if("undefined"!=typeof window){var j=!1;try{j=window.localStorage}catch(e){}L.setStorage(j),function(){function e(e){if(e=e||window.event,!u||e.key&&e.key!=="session-"+u)e.key&&f[e.key]&&(e.oldValueObj=e.oldValue&&h(e.oldValue,"value"),e.newValueObj=e.newValue&&h(e.newValue,"value"),f[e.key].forEach(function(t){t(e)}));else for(var t=0,n=c.length;t<n;t++)c[t](e)}window.addEventListener?window.addEventListener("storage",e,!1):window.attachEvent&&window.attachEvent("onstorage",e)}()}return n.createNs(L,"ta","localStorage"),L});
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["ta/Core/TA.Store","utils/store","ta/Core/TA.Load","ta/Core/TA.FireEvent","ta/Core/TA.Event","ta/Core/TA.Record","ta/util/Error","ta/util/Selenium","ta/util/roybatty","ta/Core/TA.LocalStorage","ta/Core/TA.Prerender","ta/projects","ta/Browser","ta/util/ScreenSizeRecord","utils/BatchRequest","utils/ceUtils"],["ta","ta"]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/core-without-dust-or-mootools","files":{"js3_secure":{"ssl":{"ta":{"Core":{"TA.Record":1,"TA.Prerender":1}}}},"js-amd":{"src":{"utils":{"BatchRequest":1,"ceUtils":1,"store":1}}},"js3":{"src":{"ta":{"projects":1,"util":{"ScreenSizeRecord":1,"roybatty":1,"Error":1,"Selenium":1},"Browser":1,"Core":{"TA.FireEvent":1,"TA.Event":1,"TA.Load":1,"TA.LocalStorage":1,"TA.Store":1}}}}},"_":{"baseUrl":"/"}});
define("utils/store",["vanillajs","ta/Core/TA.Store"],function(e,r){return{add:r.store,get:r.retrieve,has:r.has,getOrAdd:r.retrieveOrStore,remove:r.remove}});
define("ta/Core/TA.Load",["vanillajs","ns-exporter","ta/Core/TA.Store","utils/resourceLoader"],function(e,r,o,a){function t(e){if("string"==typeof e&&VERSION_MAP){var r=!1;if(VERSION_MAP[e])r=e;else if(VERSION_MAP[e+".js"])r=e+".js";else for(var o=e.split("."),a=0;o&&o.length>1&&a<10;){o=o.slice(0,-1);var t=o.join("-")+".js";if(t&&VERSION_MAP[t]){r=t;break}a++}return r}}var n={};return n.load=function(e,r,n){var i=!1,s=t(e);s&&(i=VERSION_MAP[s]);var l=function(){var e=o.remove(f);e&&e.forEach(function(e){e&&e()})};if(i){var f=s+"_callback";if(o.has(f)){var c=o.retrieve(f);c.push(r),o.store(f,c)}else o.store(f,[function(){delete VERSION_MAP[s],r&&r()}]),"object"==typeof i?a.load(i,{serial:!0,forceType:"js"},l):a.load(i,{forceType:"js"},l)}else n&&a.loaded(i)&&(l(),r&&r());return i},n.loadInOrder=function(e,r){a.load(e,{serial:!0},r)},r.exportTo(n,"ta"),n});
define("ta/Core/TA.FireEvent",["vanillajs"],function(){var n={},e={};return n.on=function(n,r){var i=e[n];i||(i=e[n]=[]),i.push(r)},n.fireEvent=function(n,r){var i=Array.prototype.slice.call(arguments),t=e[n];i.shift(),t&&t.slice(0).forEach(function(n){try{n.apply(null,i)}catch(n){window.IS_DEBUG&&(console.error||console.log)("Exception in TA.FireEvent handler",n)}})},n.off=function(n,r){if(r){var i,t=e[n];t instanceof Array&&(i=t.indexOf(r),i>=0&&t.splice(i,1))}else delete e[n]},n.hasEventListener=function(n){return!!e[n]},n});
define("ta/Core/TA.Event",["vanillajs","common/trackingStreams","ns-exporter","ta/Core/TA.FireEvent"],function(vanilla,tracks,nsExporter,fireEvent){function _makeClosure(e,t){var n=this;return t=Array.prototype.slice.call(t),function(){e.apply(n,t)}}function QueueTimer(e,t){var n=0,r=0,o=[],a=0,u=!1;this.start=function(){n&&clearTimeout(n),a=Date.now()},this.end=function(i){var c=Date.now(),f=c-a;r+=f;var l=""+f+"ms ["+(i||"")+"]",s=e+(t?"-after":"");u?console.error("Straggler for "+s+": "+l):(o.push(l),n=setTimeout(function(){console.error("Timing for "+s+": "+r+"ms\n"+o.sort(function(e,t){return parseInt(e)-parseInt(t)}).join("\n")),u=!0},2e3))}}var exports={on:fireEvent.on,off:fireEvent.off,fireEvent:fireEvent.fireEvent,hasEventListener:fireEvent.hasEventListener};exports.call=function(e,t,n,r){if(null==t)return IS_DEBUG&&alert("You must pass the event.\n\nUsage:\nta.call('ta.namespace.Class.function', event);"),!1;if(null==e)return IS_DEBUG&&alert("ta.call of undefined function"),!1;var o=e;if("function"==typeof e)e="<func>";else if(!/^ta\.[\w\d\.]+$/.test(e))return IS_DEBUG&&alert("Invalid function name. Must be of the form: ta.namespace.Class.function"),!1;var a=t||window.event;["stopPropagation","preventDefault"].forEach(function(e){a[e]||(a[e]=function(){})}),a.stop||(a.stop=function(){a.preventDefault(),a.stopPropagation()}),n||(n=a.target||a.srcElement),n||tracks.error(null,"ta.call re-wrap fail (non-DOM element) - "+e,t,{"funcName":e});var u=arguments,i=Array.prototype.slice.call(u,3);i.splice(0,0,a,n);try{return i.unshift({callback:_ta_call_defer,evt:a}),i.unshift(o),exports.run.apply(null,i)}catch(n){tracks.error(n,"ta.call - "+e,t)}return!1};var _ta_call_defer=function(e,t){t&&delete t.evt,exports.run.apply(null,arguments)};exports.run=function(e,t){var n=arguments,r=Array.prototype.slice.call(n,2);try{var o=exports.fn(e);if("function"==typeof o){var a=o.apply(window,Array.prototype.slice.call(r));if(t&&t.onComplete){var u=exports.fn(t.onComplete);u&&u(a)}return a}t&&t.evt&&(t.evt.stopPropagation?t.evt.stopPropagation():t.evt.cancelBubble=!0,t.evt.preventDefault?t.evt.preventDefault():t.evt.returnValue=!1);var i=_makeClosure(t&&t.callback||exports.run,arguments);require(["trjs!ta/Core/TA.Load"],function(t){try{t.load(e,i)}catch(t){tracks.error(t,"ta.run - "+e)}})}catch(t){tracks.error(t,"ta.run - "+e)}return!1};var OneTimeFunctionQueue=function(e,t,n){function r(){u=!0,c()}var o,a=[],u=!!n,i=function(n,r){o&&o.start();try{n()}catch(n){try{tracks.error(n,"OneTimeFunctionQueue "+e+(t?"-after":"")+(r?"-"+r:""))}catch(e){}}o&&o.end(r)},c=function(){if(a.sort(function(e,t){return e.priority-t.priority||e.subpriority-t.subpriority}),t){var e=1;a.forEach(function(t){setTimeout(i.bind(null,t.func,t.name),e++)})}else a.forEach(function(e){i(e.func,e.name)});a=[]};null!=e&&(window.addEventListener?window.addEventListener(e,r,!1):window.attachEvent&&("DOMContentLoaded"==e?window.attachEvent("onload",r):"load"==e?window.attachEvent("on"+e,function(){setTimeout(r,1)}):window.attachEvent("on"+e,r))),this.addToQueue=function(t,n,r){return t?("string"==typeof n&&(r=n,n=!1),void(u?i(t,r):(n=n||100+a.length,a.push({func:t,priority:n,name:r,subpriority:a.length})))):void tracks.error(null,"addToQueue for "+e+" queue - no function")},this.executeQueue=function(){c()}},loaded="undefined"!=typeof document&&"complete"===document.readyState,ready="undefined"!=typeof document&&"interactive"===document.readyState||loaded,_readyQ=new OneTimeFunctionQueue("DOMContentLoaded",!1,ready),_loadQ=new OneTimeFunctionQueue("load",!1,loaded),_afterLoadQ=new OneTimeFunctionQueue("load",!0);ready||_loadQ.addToQueue(function(){_readyQ.executeQueue()},-999999999,"checkReadyQueue"),_loadQ.addToQueue(function(){_afterLoadQ.executeQueue()},999999999,"afterLoadQueue"),exports.queueForReady=function(e,t,n){_readyQ.addToQueue(e,t,n)},exports.queueForLoad=function(e,t,n){_loadQ.addToQueue(e,t,n)},exports.queueForAfterLoad=function(e,t){_afterLoadQ.addToQueue(e,0,t)},exports.fn=function(fn){switch(typeof fn){case"function":return fn;case"string":var f=!1;try{f=eval(fn)}catch(e){}if(!f){var ns=fn.split("."),n=ns.pop();try{ns=eval(ns.join(".")),f=ns&&ns._magic&&ns._magic.partial(n)}catch(e){}}if(f&&"function"==typeof f)return f}return null},exports.fireClick=function(e){if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},exports.throttle=function(e,t,n,r){function o(){delete m_throttles[t],a.cb()}var a,u=(new Date).getTime();if(t in m_throttles){if(a=m_throttles[t],u-a.lastReset<a.minResolution)return void(a.cb=e)}else a=m_throttles[t]={start:u,minResolution:Math.max(Math.floor(n/10),50)};a.cb=e,a.timeout&&clearTimeout(a.timeout),r&&u-a.start>r?o():(a.lastReset=u,a.timeout=setTimeout(o,n))};var m_throttles={};return nsExporter.exportTo(exports,ta),exports});
define("ta/util/Error",["vanillajs","api-mod","utils/ajax","ns-exporter","mixins/Events","utils/browserutils","ta/util/Cookie","ta"],function(r,e,t,o,n,a,i,c){function s(r,t){var o="_extraInfoError_:Problem storing extra info.",n={},a="";try{if(Array.isArray(t)||"[object Arguments]"===Object.prototype.toString.call(t)){for(var i={},c=0;c<t.length;c++){var s=t[c],l=typeof s;"string"===l||"number"===l||"boolean"===l?i[c]=s:i[c]=l}t=i}e.merge(n,r,t)}catch(e){n=r}try{if(a=JSON.stringify(n))return a.length>y&&(a=a.substring(0,y)),a.replace(/[\r\n]/g,"")}catch(r){}return o}function l(r){return"undefined"!=typeof r&&null!==r?r.toString().replace(/[\r\n]/g,""):"null or undefined"}function f(r,e,t){var o,n="";if(r&&r.stack)try{var a,i,c=r.stack.split("\n"),s=[],l=0;c[1]&&c[1].match(/\.record /)&&c.splice(1,1);for(var f=0;f<c.length;f++){var u=c[f];if(!(u.indexOf(r.message)>=0)){var d=!!u.match(/\/jquery-|\/mootools|\(native\)|\(native code\)|\[native code]/);u=u.replace(/^(.*)http.+\/([^\/]*)/,"$1$2").replace(/(\?.{20})[^:)]+/,"$1...").replace(/^(?:\s+\w+\s*([^\s]+)|([^\s]+)@)\s*\(?([^)]*)\)?$/,"$1$2 ($3)").replace(/\s*\(\)/,""),a&&d?i||(s.push("..."),i=!0,l++):(s.push(u),d&&l++),d||(i=!1),a=d}}s.length-l<=w&&(o=!0),n=s.join()}catch(r){h&&(console.error("Debug: error.stack handler failed "),console.error(r))}if(!n&&t)try{for(var g=[],m=t.caller,v=0;m&&v++<20;){var S=m.toString(),y=S.replace(/^function\s+([^(\s]+).*/,"$1")||"anonymous";if(!y.match(/onErrorFunc|_getErrorStack/)){var R=Math.min(S.length,100),E=S.substring(0,R).replace(/(\n|\r|\'|\")/g," ");g.push(E)}m=m.caller}g.length<5&&(o=!0),n=g.join(" :: ")}catch(r){h&&console.error("Debug: exception getting callee stack "+r)}if(!n&&r&&r.filename&&(n=r.filename.replace(/^.*\/([^\/]+)$/,"$1"),r.lineno&&(n+=":"+r.lineno),r.colno&&(n+=":"+r.colno)),e&&o){var b=p.getSelectorString(e);b&&(n&&(n+=", "),n+="DOM_STACK: "+b)}return n?n:"failed to get stack"}function u(){var r=[];return[].forEach.call(document.getElementsByTagName("script"),function(e){var t=e.src;d(t)&&r.push(t.substring(t.indexOf("/js")+1))}),r.join(", ").substring(0,y)}function d(r){if(!r||!r.indexOf)return!1;var e=window.CDNHOST||"";return h&&""==e?null!=r.match(/(js3\/|js\/)/):0==r.indexOf(e)}function g(r){if(!r||!r.indexOf)return!1;var e="noPage";try{e=window.location.href}catch(r){}return r===e}function m(){var r=(a.Platform.ios||a.Platform.android)&&!window.isTabletOnFullSite,e=document.cookie.indexOf("TAmobilemode=main")>=0;return r&&!e}function v(r){if(m()){var e={eMsg:"msg",eStak:"stack",eUrl:"url"};for(var t in e){var o=e[t];r[o]=r[t]}r.file=r.url||document.URL,r.site=window.SITE_VERSION,r.loaded=O?"dom_ready":"not_loaded"}}var p={},S=new n("error","beforeSend"),h=window.IS_DEBUG,y=3e3,R=h?100:10,w=4,E="unset",b=0,O=!1;return p.record=function(r,e,o,n,a,y){y=y||{},r?"string"==typeof r&&(r=new Error(r)):r=new Error("Stub error to build stack.");var w=!1;try{var O=Object.prototype.toString.call(r);w=O===Object.prototype.toString.call(new Error)||O.match(/\[object Error[\w]*]/)}catch(r){}if(w&&!r.stack)try{throw r}catch(e){e&&e.stack&&(r=e)}o=o||window.event||{};var N=o.target;if(b>=R)return void(h&&console.error("Maximum JS errors reached. Not reporting."));b++;var j=!1;try{j=document.body.className.match(/\bjs_logging\b/)||m()}catch(r){}if(j){var _=!0;n&&n.hasOwnProperty("error_script")&&!d(n.error_script)&&!g(n.error_script)&&(_=!1);var k={};if(N)try{k.eTarg=p.getSelectorString(N)}catch(r){}"undefined"!=typeof debugCacheKey&&(k.key=debugCacheKey);var T=window.pageServlet;T||(T="unknown"),k.servlet=T,a&&"string"==typeof a||(a="ERROR"),_?!h&&b>1?(a="WARN",k.warnReason="notFirstJSError"):"object"==typeof r&&"WARN"===r.level&&(a="WARN"):(a="WARN",k.warnReason="externalError");var A={"extraInfoError":"Problem storing extra info"},x={};try{var D="",L="";N&&("function"!=typeof N.id&&(D=N.id),L=N.className);var P=window.serverPool||"",I="";window.MooTools&&(I+="MooTools "),require.defined("lib/jquery-amd")&&(I+="jQuery "),x={"TARGET_ID":D,"TARGET_CLASS":L,"PAGE_UID":c&&c.uid,"INTERNAL_JS":u(),"CLIENT_POOL":P,"COOKIES_ENABLED":i.canSet(),"JS_LIBS":I},_||(x.INTERNAL_ERROR="false"),b>1&&(x.PRIOR_JS_PAGE_ERRORS=b-1)}catch(r){n=A}k.xInfo=s(x,n);try{k.eUrl=window.location.href}catch(r){}try{var J=c.page.getDates("STAYDATES");J?k.eDates=J[0].toLocaleDateString("en-US")+" - "+J[1].toLocaleDateString("en-US"):k.eDates="No dates set"}catch(r){}var $="No Error";try{if(w)$=r.name+"-"+r.message;else if("object"==typeof r)if(r.name&&r.message)$=r.name+"-"+r.message;else{$="non-Error object "+Object.prototype.toString.call(r)+" passed, sample properties - ";var M=0;for(var C in r)if(r.hasOwnProperty(C)&&($+=C.substring(0,30)+": "+(r[C]&&r[C].toString?r[C].toString().substring(0,20):r[C])+", ",++M>4))break}else $="non-Object error passed: "+(""+r).substring(0,60);$=$.replace(/[\r\n]/g,"")}catch(r){}k.eMsg=$;try{k.eBlk=l(e).substring(0,150)}catch(r){}var U;if(!r.stack)try{U=o&&o.callee||arguments&&arguments.callee}catch(r){}var B=f(r,N,U);B&&(k.eStak=B);try{S.emit("beforeSend",k)}catch(r){}k.eLogLevel=a,v(k),h&&!y.isglobal&&(console.error("/JSErrorRecord:"),r.stack?console.error(r.stack):B?console.error(B):console.error("No stack"));try{t({url:"/JSErrorRecord",data:k,method:"POST",type:"POST"})}catch(r){k={"eBlk":"JSErrorRecord Error","servlet":T,"eLogLevel":"ERROR","eMsg":"no error retrieved"},t({url:"/JSErrorRecord",data:k})}if(h&&(window.ERRORS||(window.ERRORS=[])).push(k),S.emit("error",$,e,a,k.eStak),"unset"==E&&(E=i.readRaw("JS_ERROR_HANDLING")),E){if(E.match(/alert/)){var G="";for(var F in k)k.hasOwnProperty(F)&&(G=G+F+": "+k[F]+"\n");alert(G)}E.match(/console/)&&window.console&&console.error(k)}}},p.getSelectorString=function(r){for(var e=[];r&&"HTML"!=r.tagName&&r!=document;r=r.parentNode){var t=r.tagName;r.id&&(t+="#"+r.id),r.className&&(t+="."+r.className.trim().replace(/\s+/g,".")),e.unshift(t)}return e.join(">")},p.ajaxFailure=function(r,t,o,n){p.record(null,r,null,e.merge({status:t.status},o),n||"ERROR")},p.enableDomReadyParam=function(){O=!0},p.on=S.on.bind(S),p.off=S.off.bind(S),(a.firefox&&a.version<5||a.ie&&a.version<10)&&(p.record=function(){window.console&&console.error("Unreported error: "+[].slice.call(arguments).join(", "))}),o.createNs(p,"ta.util","error"),p});
define("ta/util/Selenium",["vanillajs","ns-exporter","mixins/Events","ta/Core/TA.LocalStorage","ta/util/Error"],function(r,t,e,n,o){var a={},i=" :: ",l="lastError";return a.lastErrorOnPage=function(){return n.getObject(l)},o.on("error",function(r,t,e,o){"ERROR"===e&&n.set(l,e+i+t+i+r+i+"Stack -> "+o)}),t.exportTo(a,"ta.util.selenium"),a});
define("ta/util/roybatty",["vanillajs","utils/ajax","ta/Core/TA.Event","ta/util/Error","ta/util/Cookie"],function(e,t,r,o,a){var i=!1;return r.queueForLoad(function(){if(window.taSecureToken)try{if(!window.taEarlyRoyBattyStatus){var e=a.readRaw("roybatty");if(e){var r=e.split(",");if(2==r.length){var n=parseInt(r[1],10);a.write("roybatty",taSecureToken+","+n,null,"/",cookieDomain)}else 1==r.length?a.write("roybatty",taSecureToken):o.record(null,"royBatty -- Bad value in cookie: "+e)}else a.write("roybatty",taSecureToken+",1",null,"/",cookieDomain),t(require.defined("ta/Browser")&&require("ta/Browser").isIEMetro()?"/CookiePingback?metroBrowser=true":"/CookiePingback")}i=!0}catch(e){o.record(e,"javascript exection bot detection error")}},"RoyBatty"),{isDone:function(){return i}}});
window.ta||(window.ta={}),define("ta/util/RecordInterruption",["vanillajs","ta/Core/TA.Record","ta/util/Error"],function(t,r,n){"use strict";var e="interruption_record",o=["popup","popunder","gate","other"],i=function(t,r){n.record(r,t,null,null)},u=function(t){for(var r=0;r<o.length;r++)if(t===o[r])return!0;return!1};return{record:function(t,n){try{u(t)?n?r.trackEventOnPage(e,t,n.replace(",",""),0,!0):i("ta/util/RecordInterruption: Name cannot be null or blank"):i("ta/util/RecordInterruption: Invalid type")}catch(t){i("ta/util/RecordInterruption: exception tracking event",t)}}}});
define("ta/Core/TA.Prerender",["vanillajs","api-mod","ta/Core/TA.Record","ta/util/Error"],function(t,e,i,r,n){"use strict";var a={states:{PREFETCH_SENT:"prefetchSent",CLEAR:"clear"}},s=function(t,e,i,n,a){if(r._validatedTrackEventArray&&r._GARecordRequest){var s=r._validatedTrackEventArray(t,e,i,n,a);return r._GARecordRequest(s).get(),!0}return!1},d=function(){if("visibilityState"in document)return a._visibilityState="visibilityState",void(a._visibilitystatechanged="visibilitychange");for(var t=["webkit","moz","ms","o"],e=0;e<t.length;e++)t[e]+"VisibilityState"in document&&(a._visibilityState=t[e]+"VisibilityState",a._visibilitystatechanged=t[e]+"visibilitychange")},c=function(){try{a._state===a.states.PREFETCH_SENT&&"prerender"!==document[a._visibilityState]&&(s("Prerender","shown","",0,!0),a._state=a.states.CLEAR)}catch(t){n.record(t)}};return a._init=function(t){try{if(a._enabled=t,a._state=a.states.CLEAR,d(),!a.isSupported()||!a.isEnabled())return;"prerender"===document[a._visibilityState]&&s("Prerender","prefetch","",0,!0)&&(a._state=a.states.PREFETCH_SENT,document.addEventListener(a._visibilitystatechanged,c,!1))}catch(t){n.record(t)}},a.isEnabled=function(){return a._enabled},a.isSupported=function(){return void 0!==a._visibilityState},a});
define("ta/projects",["vanillajs","ns-exporter","ta/Core/TA.Store"],function(t,e,n){function s(t,e){return!!(t&&e&&t.className.match(new RegExp("\\b"+e+"\\b")))}function r(t,e,n){return i.has(t)||i.setIfClass(t,e,n),i.get(t)}var i={vals:{},set:function(t,e){i.vals[t]=e},setIfClass:function(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),i.vals[t]=s(e,n)},get:function(t){return i.vals[t]},has:function(t){return t in i.vals}},a={};return a.isHotelsRedesign2011=function(){var t="isHotelsRedesign2011";return i.has(t)||i.setIfClass(t,"HAC_SMRY","hotels_re_2011"),i.get(t)},a.isSmartDealsFilters=function(){return r("smartDealsFilters","DEALS","sdfilters")},a.isAttractionsRedesign2012=function(){return r("isAttractionsRedesign2012","ATTRACTIONS_2012","gridA")},a.isMetaHomepageIntegration2013=function(){return r("isMetaHomepageIntegration2013","PPT","ppt_container")},a.isMetaHotels2013=function(){return r("isMetaHotels2013","PAGE","meta_hotels")},a.isMetaHotelsRequest=function(){return n.has("isMetaHotelsRequest")},a.isSmartDealsHSXSortEnabled=function(){return n.has("isSmartDealsHSXSortEnabled")},a.isHRTabs2014=function(){return n.has("hr_tabs_2014")},a.isTabletAlbumViewer=function(){return n.retrieve("tabletAlbumPhotoLightbox.enabled")},a.isAirport=function(){return"Airport"==window.pageServlet},e.exportTo(a,"ta"),a});
define("ta/Browser",["vanillajs","ns-exporter"],function(e,n){var t,r={},i=function(){return navigator.userAgent.indexOf("MSIE 10.0")>=0},o=r.isIE11orHigher=function(){return navigator.userAgent.toLowerCase().indexOf("trident/7.")>-1||navigator.userAgent.toLowerCase().indexOf("msie 11.")>-1};return r.isIE9orHigher=function(){return navigator.appVersion.indexOf("MSIE 9")>=0||i()||o()},r.isIE10Metro=function(){return i()&&r.isIEMetro()},r.isIEMetro=function(){var e=null,n=o(),t=n?127:0,r=window.innerWidth==screen.width&&screen.height-window.innerHeight===t;try{e=!!new ActiveXObject("htmlfile")}catch(n){e=!1}return!e&&r&&(n||i())},r.isIE=function(){return navigator.userAgent.indexOf("MSIE")>=0},r.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},r.getFlashVersion=function(){if("number"!=typeof t){var e;try{e=navigator.plugins["Shockwave Flash"].description}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){}}var n=(e||"0 r0").match(/\d+/g);t=Number(n[0]||"0."+n[1])||0}return t},r.isChromeIncognito=function(e){var n=window.RequestFileSystem||window.webkitRequestFileSystem;return n&&"function"==typeof n?void n(window.TEMPORARY,100,function(){e("normal")},function(){e("incognito")}):void e("undetermined")},n.exportTo(r,"ta.browser"),r});
define("ta/util/ScreenSizeRecord",["vanillajs","ta/Core/TA.LocalStorage","ta/Core/TA.Record","ta/Core/TA.Event"],function(e,n,t,i){function o(){var e=document.documentElement,n=document.body,t=window.innerWidth||e.clientWidth||n.clientWidth,i=window.innerHeight||e.clientHeight||n.clientHeight,o=screen.width,r=screen.height;return"s"+o+"x"+r+"b"+t+"x"+i}function r(e){var i=o(),r=n.getSessionKey(d);i!==r&&(n.setSessionKey(d,i),t.trackEventOnPage("screenSizeRecord",e,i))}function c(){function e(){t&&clearTimeout(t),t=setTimeout(function(){r("resize")},250)}if(ta.retrieve("screenSizeRecord")&&n.enabled){r("load");var t;window.addEventListener?window.addEventListener("resize",e,!1):window.attachEvent&&window.attachEvent("onresize",e)}}var d="screenSizeRecord";i.queueForLoad(c,"ScreenSizeRecord.onLoad")});
define("utils/BatchRequest",["ajax-request"],function(e){"use strict";function n(e,n){r[e]=r[e]||[],r[e].push(n),i&&clearTimeout(i),i=setTimeout(t,a)}function t(n){for(var t in r)if(r.hasOwnProperty(t)){for(var a={batched:!0},i=r[t],u=0;u<i.length;u++)for(var o in i[u])i[u].hasOwnProperty(o)&&(a["data["+u+"]["+o+"]"]=i[u][o]);e({method:"POST",url:t,data:a,synchronous:n})}r={}}var a=1500,r={},i=null;return window.addEventListener("onpagehide"in window?"pagehide":"unload",t.bind(null,!0)),{queue:n}});
define("utils/ceUtils",["ta","vanillajs","api-mod","mixins/Events"],function(n,t,e,i){function o(){e.mixin(this,new i("showExplanatoryOverlay","hideExplanatoryOverlay","beginInstall","cancelInstall","test"));var n=this;this.detectExtension=function(n,t,e){var i=new Image;i.src="chrome-extension://"+n,i.onload=function(){t&&t()},i.onerror=function(){e&&e()}},this.isChromeExtensionInstalled=function(t,e){n.detectExtension(n.CHROME_EXT_TAG,t,e)}}return o.prototype.CHROME_EXT_ID="oiekdmlabennjdpgimlcpmphdjphlcha",o.prototype.CHROME_EXT_TAG=o.prototype.CHROME_EXT_ID+"/images/owl-48.png",new o});
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install([],[]);});
define("ta/util/Deferred",["vanillajs","ns-exporter"],function(e,r){"use strict";function t(e){l.prototype[e]=function(r,t){return i(this,e,t?r.bind(t):r)}}for(var n=["success","failure","always","progress"],u={"resolved":["success","always"],"rejected":["failure","always"]},l=function(){},a=0;a<n.length;a++)t(n[a]);l.prototype.then=function(e,r){var t=this.success(e);return r?t.failure(r):t};var o=function(e){var r="pending",t=new l;t.queue=[],t.args=null,t.aplus="boolean"==typeof e&&e,t.status=function(){return r};var n={notify:function(){if(s(r))throw new Error("Promise has already been fulfilled.");var e,n,u,l=Array.prototype.slice.call(arguments);for(n=0,u=t.queue.length;n<u;n++)e=t.queue[n],"progress"===e.hook&&e.callback.apply(null,l);return t},resolve:function(){if(s(r))throw new Error("Promise has already been fulfilled.");return r="resolved",t.args=Array.prototype.slice.call(arguments),f(t)},reject:function(){if(s(r))throw new Error("Promise has already been fulfilled.");return r="rejected",t.args=Array.prototype.slice.call(arguments),f(t)},isFulfilled:function(){return s(r)},promise:function(){return t}};return n},s=function(e){return"resolved"===e||"rejected"===e},i=function(e,r,t){return e.fwd?i(e.fwd,r,t):(e.queue.push({hook:r,callback:t}),f(e))},f=function(e){if(e.fwd)return f(e.fwd);for(var r,t;s(e.status())&&(r=e.queue.shift());)~u[e.status()].indexOf(r.hook)&&(t=r.callback.apply(null,e.args),t instanceof l?(t.queue=t.queue.concat(e.queue.splice(0)),e=e.fwd=t):t&&e.aplus&&(e.args=[t]));return e};return r.createNs(o,"ta.util","Deferred"),o});
!function(t,e){"object"==typeof exports?module.exports=e():t.dust=e()}(this,function(){function getTemplate(t,e){if(t)return"function"==typeof t&&t.template?t.template:dust.isTemplateFn(t)?t:e!==!1?dust.cache[t]:void 0}function load(t,e,n){if(!t)return e.setError(new Error("No template or template name provided to render"));var r=getTemplate(t,dust.config.cache);return r?r(e,Context.wrap(n,r.templateName)):dust.onLoad?e.map(function(e){function r(t,r){var i;if(t)return e.setError(t);if(i=getTemplate(r,!1)||getTemplate(o,dust.config.cache),!i){if(!dust.compile)return e.setError(new Error("Dust compiler not available"));i=dust.loadSource(dust.compile(r,o))}i(e,Context.wrap(n,i.templateName)).end()}var o=t;3===dust.onLoad.length?dust.onLoad(o,n.options,r):dust.onLoad(o,r)}):e.setError(new Error("Template Not Found: "+t))}function Context(t,e,n,r,o){void 0===t||t instanceof Stack||(t=new Stack(t)),this.stack=t,this.global=e,this.options=n,this.blocks=r,this.templateName=o,this._isContext=!0}function getWithResolvedData(t,e,n){return function(r){return t.push(r)._get(e,n)}}function Stack(t,e,n,r){this.tail=e,this.isObject=t&&"object"==typeof t,this.head=t,this.index=n,this.of=r}function Stub(t){this.head=new Chunk(this),this.callback=t,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(t,e,n){this.root=t,this.next=e,this.data=[],this.flushable=!1,this.taps=n}function mapThenable(t,e,n,r,o){return t.map(function(t){e.then(function(e){try{o(t,e)}catch(e){dust.log(e,ERROR),t.setError(e)}},function(e){dust.log("Unhandled promise rejection in `"+n.getTemplateName()+"`",INFO),t.renderError(e,n,r).end()})})}function Tap(t,e){this.head=t,this.tail=e}var dust={"version":"2.7.2"},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",EMPTY_FUNC=function(){};dust.config={whitespace:!1,amd:!1,cjs:!1,cache:!0},dust._aliases={"write":"w","end":"e","map":"m","render":"r","reference":"f","section":"s","exists":"x","notexists":"nx","block":"b","partial":"p","helper":"h"},function(){var t,e,n={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4};"undefined"!=typeof console&&console.log?(t=console.log,e="function"==typeof t?function(){t.apply(console,arguments)}:function(){t(Array.prototype.slice.apply(arguments).join(" "))}):e=EMPTY_FUNC,dust.log=function(t,r){r=r||INFO,n[r]>=n[dust.debugLevel]&&(e("[DUST:"+r+"]",t),r===ERROR&&dust.debugLevel===DEBUG&&t instanceof Error&&t.stack&&e("[DUST:"+r+"]",t.stack))},dust.debugLevel=NONE,"undefined"!=typeof process&&process.env&&/\bdust\b/.test(process.env.DEBUG)&&(dust.debugLevel=DEBUG)}(),dust.helpers={},dust.cache={},dust.register=function(t,e){t&&(e.templateName=t,dust.config.cache!==!1&&(dust.cache[t]=e))},dust.render=function(t,e,n){var r=new Stub(n).head;try{load(t,r,e).end()}catch(t){r.setError(t)}},dust.stream=function(t,e){var n=new Stream,r=n.head;return dust.nextTick(function(){try{load(t,r,e).end()}catch(t){r.setError(t)}}),n},dust.loadSource=function(source){return eval(source)},Array.isArray?dust.isArray=Array.isArray:dust.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},dust.nextTick=function(){return function(t){setTimeout(t,0)}}(),dust.isEmpty=function(t){return 0!==t&&(!(!dust.isArray(t)||t.length)||!t)},dust.isEmptyObject=function(t){var e;if(null===t)return!1;if(void 0===t)return!1;if(t.length>0)return!1;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},dust.isTemplateFn=function(t){return"function"==typeof t&&t.__dustBody},dust.isThenable=function(t){return t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},dust.isNonThenableFunction=function(t){return"function"==typeof t&&!dust.isThenable(t)},dust.isStreamable=function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pipe},dust.filter=function(t,e,n,r){var o,i,s,u;if(n)for(o=0,i=n.length;o<i;o++)s=n[o],s.length&&(u=dust.filters[s],"s"===s?e=null:"function"==typeof u?t=u(t,r):dust.log("Invalid filter `"+s+"`",WARN));return e&&(t=dust.filters[e](t,r)),t},dust.filters={h:function(t){return dust.escapeHtml(t)},j:function(t){return dust.escapeJs(t)},u:encodeURI,uc:encodeURIComponent,js:function(t){return dust.escapeJSON(t)},jp:function(t){return JSON?JSON.parse(t):(dust.log("JSON is undefined; could not parse `"+t+"`",WARN),t)}},dust.makeBase=dust.context=function(t,e){return new Context(void 0,t,e)},dust.isContext=function(t){return"object"==typeof t&&t._isContext===!0},Context.wrap=function(t,e){return dust.isContext(t)?(t.templateName=e,t):new Context(t,{},{},null,e)},Context.prototype.get=function(t,e){return"string"==typeof t&&("."===t[0]&&(e=!0,t=t.substr(1)),t=t.split(".")),this._get(e,t)},Context.prototype._get=function(t,e){var n,r,o,i,s,u=this.stack||{},a=1;if(r=e[0],o=e.length,t&&0===o)i=u,u=u.head;else{if(t)u&&(u=u.head?u.head[r]:void 0);else{for(;u&&(!u.isObject||(i=u.head,n=u.head[r],void 0===n));)u=u.tail;u=void 0!==n?n:this.global&&this.global[r]}for(;u&&a<o;){if(dust.isThenable(u))return u.then(getWithResolvedData(this,t,e.slice(a)));i=u,u=u[e[a]],a++}}return dust.isNonThenableFunction(u)?(s=function(){try{return u.apply(i,arguments)}catch(t){throw dust.log(t,ERROR),t}},s.__dustBody=!!u.__dustBody,s):(void 0===u&&dust.log("Cannot find reference `{"+e.join(".")+"}` in template `"+this.getTemplateName()+"`",INFO),u)},Context.prototype.getPath=function(t,e){return this._get(t,e)},Context.prototype.push=function(t,e,n){return void 0===t?(dust.log("Not pushing an undefined variable onto the context",INFO),this):this.rebase(new Stack(t,this.stack,e,n))},Context.prototype.pop=function(){var t=this.current();return this.stack=this.stack&&this.stack.tail,t},Context.prototype.rebase=function(t){return new Context(t,this.global,this.options,this.blocks,this.getTemplateName())},Context.prototype.clone=function(){var t=this.rebase();return t.stack=this.stack,t},Context.prototype.current=function(){return this.stack&&this.stack.head},Context.prototype.getBlock=function(t){var e,n,r;if("function"==typeof t&&(t=t(new Chunk,this).data.join("")),e=this.blocks,!e)return dust.log("No blocks for context `"+t+"` in template `"+this.getTemplateName()+"`",DEBUG),!1;for(n=e.length;n--;)if(r=e[n][t])return r;return dust.log("Malformed template `"+this.getTemplateName()+"` was missing one or more blocks."),!1},Context.prototype.shiftBlocks=function(t){var e,n=this.blocks;return t?(e=n?n.concat([t]):[t],new Context(this.stack,this.global,this.options,e,this.getTemplateName())):this},Context.prototype.resolve=function(t){var e;return"function"!=typeof t?t:(e=(new Chunk).render(t,this),e instanceof Chunk?e.data.join(""):e)},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var t=this.head;t;){if(!t.flushable)return t.error?(this.callback(t.error),dust.log("Rendering failed with error `"+t.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.out+=t.data.join(""),t=t.next,this.head=t}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var t=this.head;t;){if(!t.flushable)return t.error?(this.emit("error",t.error),this.emit("end"),dust.log("Streaming failed with error `"+t.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",t.data.join("")),t=t.next,this.head=t}this.emit("end")},Stream.prototype.emit=function(t,e){var n,r,o=this.events||{},i=o[t]||[];if(!i.length)return dust.log("Stream broadcasting, but no listeners for `"+t+"`",DEBUG),!1;for(i=i.slice(0),n=0,r=i.length;n<r;n++)i[n](e);return!0},Stream.prototype.on=function(t,e){var n=this.events=this.events||{},r=n[t]=n[t]||[];return"function"!=typeof e?dust.log("No callback function provided for `"+t+"` event listener",WARN):r.push(e),this},Stream.prototype.pipe=function(t){if("function"!=typeof t.write||"function"!=typeof t.end)return dust.log("Incompatible stream passed to `pipe`",WARN),this;var e=!1;return"function"==typeof t.emit&&t.emit("pipe",this),"function"==typeof t.on&&t.on("error",function(){e=!0}),this.on("data",function(n){if(!e)try{t.write(n,"utf8")}catch(t){dust.log(t,ERROR)}}).on("end",function(){if(!e)try{t.end(),e=!0}catch(t){dust.log(t,ERROR)}})},Chunk.prototype.write=function(t){var e=this.taps;return e&&(t=e.go(t)),this.data.push(t),this},Chunk.prototype.end=function(t){return t&&this.write(t),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(t){var e=new Chunk(this.root,this.next,this.taps),n=new Chunk(this.root,e,this.taps);this.next=n,this.flushable=!0;try{t(n)}catch(t){dust.log(t,ERROR),n.setError(t)}return e},Chunk.prototype.tap=function(t){var e=this.taps;return e?this.taps=e.push(t):this.taps=new Tap(t),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(t,e){return t(this,e)},Chunk.prototype.reference=function(t,e,n,r){return dust.isNonThenableFunction(t)?(t=t.apply(e.current(),[this,e,null,{auto:n,filters:r}]),t instanceof Chunk?t:this.reference(t,e,n,r)):dust.isThenable(t)?this.await(t,e,null,n,r):dust.isStreamable(t)?this.stream(t,e,null,n,r):dust.isEmpty(t)?this:this.write(dust.filter(t,n,r,e))},Chunk.prototype.section=function(t,e,n,r){var o,i,s,u=n.block,a=n["else"],c=this;if(dust.isNonThenableFunction(t)&&!dust.isTemplateFn(t)){try{t=t.apply(e.current(),[this,e,n,r])}catch(t){return dust.log(t,ERROR),this.setError(t)}if(t instanceof Chunk)return t}if(dust.isEmptyObject(n))return c;if(dust.isEmptyObject(r)||(e=e.push(r)),dust.isArray(t)){if(u){if(i=t.length,i>0){for(s=e.stack&&e.stack.head||{},s.$len=i,o=0;o<i;o++)s.$idx=o,c=u(c,e.push(t[o],o,i));return s.$idx=void 0,s.$len=void 0,c}if(a)return a(this,e)}}else{if(dust.isThenable(t))return this.await(t,e,n);if(dust.isStreamable(t))return this.stream(t,e,n);if(t===!0){if(u)return u(this,e)}else if(t||0===t){if(u)return u(this,e.push(t))}else if(a)return a(this,e)}return dust.log("Section without corresponding key in template `"+e.getTemplateName()+"`",DEBUG),this},Chunk.prototype.exists=function(t,e,n){var r=n.block,o=n["else"];if(dust.isThenable(t))return mapThenable(this,t,e,n,function(t,r){t.exists(r,e,n).end()});if(dust.isEmpty(t)){if(o)return o(this,e)}else{if(r)return r(this,e);dust.log("No block for exists check in template `"+e.getTemplateName()+"`",DEBUG)}return this},Chunk.prototype.notexists=function(t,e,n){var r=n.block,o=n["else"];if(dust.isThenable(t))return mapThenable(this,t,e,n,function(t,r){t.notexists(r,e,n).end()});if(dust.isEmpty(t)){if(r)return r(this,e);dust.log("No block for not-exists check in template `"+e.getTemplateName()+"`",DEBUG)}else if(o)return o(this,e);return this},Chunk.prototype.block=function(t,e,n){var r=t||n.block;return r?r(this,e):this},Chunk.prototype.partial=function(t,e,n,r){var o;return void 0===r&&(r=n,n=e),dust.isEmptyObject(r)||(n=n.clone(),o=n.pop(),n=n.push(r).push(o)),dust.isTemplateFn(t)?this.capture(t,e,function(t,e){load(t,e,n).end()}):load(t,this,n)},Chunk.prototype.helper=function(t,e,n,r,o){var i,s=this,u=r.filters;if(void 0===o&&(o="h"),!dust.helpers[t])return dust.log("Helper `"+t+"` does not exist",WARN),s;try{return i=dust.helpers[t](s,e,n,r),i instanceof Chunk?i:("string"==typeof u&&(u=u.split("|")),dust.isEmptyObject(n)?s.reference(i,e,o,u):s.section(i,e,n,r))}catch(e){return dust.log("Error in helper `"+t+"`: "+e.message,ERROR),s.setError(e)}},Chunk.prototype.await=function(t,e,n,r,o){return mapThenable(this,t,e,n,function(t,i){n?t.section(i,e,n).end():t.reference(i,e,r,o).end()})},Chunk.prototype.renderError=function(t,e,n){var r=n&&n.error;return r?this.render(r,e.push(t)):this},Chunk.prototype.stream=function(t,e,n,r,o){var i=n&&n.block;return this.map(function(s){var u=!1;t.on("data",function(t){u||(i?s=s.map(function(n){n.render(i,e.push(t)).end()}):n||(s=s.reference(t,e,r,o)))}).on("error",function(t){u||(s.renderError(t,e,n),dust.log("Unhandled stream error in `"+e.getTemplateName()+"`",INFO),u||(u=!0,s.end()))}).on("end",function(){u||(u=!0,s.end())})})},Chunk.prototype.capture=function(t,e,n){return this.map(function(r){var o=new Stub(function(t,e){t?r.setError(t):n(e,r)});t(o.head,e).end()})},Chunk.prototype.setError=function(t){return this.error=t,this.root.flush(),this};for(var f in Chunk.prototype)dust._aliases[f]&&(Chunk.prototype[dust._aliases[f]]=Chunk.prototype[f]);Tap.prototype.push=function(t){return new Tap(t,this)},Tap.prototype.go=function(t){for(var e=this;e;)t=e.head(t),e=e.tail;return t};var HCHARS=/[&<>"']/,AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(t){return"string"==typeof t||t&&"function"==typeof t.toString?("string"!=typeof t&&(t=t.toString()),HCHARS.test(t)?t.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):t):t};var BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;return dust.escapeJs=function(t){return"string"==typeof t?t.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):t},dust.escapeJSON=function(t){return JSON?JSON.stringify(t).replace(LS,"\\u2028").replace(PS,"\\u2029").replace(LT,"\\u003c"):(dust.log("JSON is undefined; could not escape `"+t+"`",WARN),t)},"undefined"!=typeof window&&window.define&&define("dust",[],function(){return dust}),dust});
!function(e,t){"undefined"!=typeof window&&window.define?define("dust-helpers",["dust"],t):"object"==typeof exports?(module.exports=t(require("dustjs-linkedin")),module.exports.registerWith=t):t(e.dust)}(this,function(e){function t(t,n,r){r=r||"INFO",t=t?"{@"+t+"}: ":"",e.log(t+n,r)}function n(e){l[e]||(t(e,"Deprecation warning: "+e+" is deprecated and will be removed in a future version of dustjs-helpers","WARN"),t(null,"For help and a deprecation timeline, see https://github.com/linkedin/dustjs-helpers/wiki/Deprecated-Features#"+e.replace(/\W+/g,""),"WARN"),l[e]=!0)}function r(e){return e.stack.tail&&e.stack.tail.head&&"undefined"!=typeof e.stack.tail.head.__select__}function s(e){return r(e)&&e.get("__select__")}function i(e,t){var n,r=e.stack.head,s=e.rebase();e.stack&&e.stack.tail&&(s.stack=e.stack.tail);var i={isPending:!1,isResolved:!1,isDeferredComplete:!1,deferreds:[]};for(n in t)i[n]=t[n];return s.push({"__select__":i}).push(r,e.stack.index,e.stack.of)}function o(e){var t,n;if(e.isDeferredPending=!0,e.deferreds.length)for(e.isDeferredComplete=!0,t=0,n=e.deferreds.length;t<n;t++)e.deferreds[t]();e.isDeferredPending=!1}function a(e,t){return"function"==typeof t?t.toString().replace(/(^\s+|\s+$)/gm,"").replace(/\n/gm,"").replace(/,\s*/gm,", ").replace(/\)\{/gm,") {"):t}function c(e,t){return function(n,r,s,i){return u(n,r,s,i,e,t)}}function u(e,n,r,i,o,a){var c,u,l,f,p=r.block,k=r["else"],y=s(n)||{};if(y.isResolved&&!y.isDeferredPending)return e;if(i.hasOwnProperty("key"))u=i.key;else{if(!y.hasOwnProperty("key"))return t(o,"No key specified","WARN"),e;u=y.key}return f=i.type||y.type,u=d(n.resolve(u),f),l=d(n.resolve(i.value),f),a(u,l)?(y.isPending||(c=!0,y.isPending=!0),p&&(e=e.render(p,n)),c&&(y.isResolved=!0)):k&&(e=e.render(k,n)),e}function d(e,t){switch(t&&(t=t.toLowerCase()),t){case"number":return+e;case"string":return String(e);case"boolean":return e="false"!==e&&e,Boolean(e);case"date":return new Date(e)}return e}var l={},f={"tap":function(e,t,r){return n("tap"),r.resolve(e)},"sep":function(e,t,n){var r=n.block;return t.stack.index===t.stack.of-1?e:r?r(e,t):e},"first":function(e,t,n){return 0===t.stack.index?n.block(e,t):e},"last":function(e,t,n){return t.stack.index===t.stack.of-1?n.block(e,t):e},"contextDump":function(e,n,r,s){var i,o,c=n.resolve(s.to),u=n.resolve(s.key);switch(u){case"full":i=n.stack;break;default:i=n.stack.head}switch(o=JSON.stringify(i,a,2),c){case"console":t("contextDump",o);break;default:o=o.replace(/</g,"\\u003c"),e=e.write(o)}return e},"math":function(e,n,r,a){var c,u=a.key,d=a.method,l=a.operand,f=a.round;if(!a.hasOwnProperty("key")||!a.method)return t("math","`key` or `method` was not provided","ERROR"),e;switch(u=parseFloat(n.resolve(u)),l=parseFloat(n.resolve(l)),d){case"mod":0===l&&t("math","Division by 0","ERROR"),c=u%l;break;case"add":c=u+l;break;case"subtract":c=u-l;break;case"multiply":c=u*l;break;case"divide":0===l&&t("math","Division by 0","ERROR"),c=u/l;break;case"ceil":case"floor":case"round":case"abs":c=Math[d](u);break;case"toint":c=parseInt(u,10);break;default:t("math","Method `"+d+"` is not supported","ERROR")}return"undefined"!=typeof c&&(f&&(c=Math.round(c)),r&&r.block?(n=i(n,{key:c}),e=e.render(r.block,n),o(s(n))):e=e.write(c)),e},"select":function(e,n,r,a){var c=r.block,u={};return a.hasOwnProperty("key")&&(u.key=n.resolve(a.key)),a.hasOwnProperty("type")&&(u.type=a.type),c?(n=i(n,u),e=e.render(c,n),o(s(n))):t("select","Missing body block","WARN"),e},"eq":c("eq",function(e,t){return e===t}),"ne":c("ne",function(e,t){return e!==t}),"lt":c("lt",function(e,t){return e<t}),"lte":c("lte",function(e,t){return e<=t}),"gt":c("gt",function(e,t){return e>t}),"gte":c("gte",function(e,t){return e>=t}),"any":function(e,n,r,i){var o=s(n);return o?o.isDeferredComplete?t("any","Must not be nested inside {@any} or {@none} block","ERROR"):e=e.map(function(e){o.deferreds.push(function(){o.isResolved&&(e=e.render(r.block,n)),e.end()})}):t("any","Must be used inside a {@select} block","ERROR"),e},"none":function(e,n,r,i){var o=s(n);return o?o.isDeferredComplete?t("none","Must not be nested inside {@any} or {@none} block","ERROR"):e=e.map(function(e){o.deferreds.push(function(){o.isResolved||(e=e.render(r.block,n)),e.end()})}):t("none","Must be used inside a {@select} block","ERROR"),e},"size":function(t,n,r,s){var i,o,a=s.key;if(a=n.resolve(s.key),a&&a!==!0)if(e.isArray(a))i=a.length;else if(!isNaN(parseFloat(a))&&isFinite(a))i=a;else if("object"==typeof a){i=0;for(o in a)a.hasOwnProperty(o)&&i++}else i=(a+"").length;else i=0;return t.write(i)}};for(var p in f)e.helpers[p]=f[p];return e});
!function(e){"undefined"!=typeof window&&window.define?define("dust-ta-helper",["dust","dust-helpers"],e):e(dust)}(function(e,r){"use strict";function t(e){return e===~~e}function n(e){if("function"!=typeof e)return e;e=e.toString();for(var r,t,n="",a=/(?:reference\((.*?)\)|write\("(.*?)"\))[.;]/g;r=a.exec(e);)r[1]?(t=r[1].match(u),t&&(t[1]?n+=" {"+t[1]:t[2]&&(n+=" {"+t[2].replace(f,".")),t[3]&&(n+="|"+t[3].replace(f,"|")),n+="} ")):r[2]&&(n+=r[2]);return n.replace(g,"")}function a(e,r){for(var t=r.split(".");e&&t.length>0;)e=e[t.shift()];return e}function l(e,r){return e&&(s.test(e)||(e="/"+e),e.match(c)||(e=r.global.CDN_HOST+e)),e}function i(e){var r=ta.retrieve&&ta.retrieve("BOOKING_FEATURES"),t=r&&r.indexOf(e.trim().toUpperCase())>=0;return t||(t=!(!ta.has||!ta.has("feature."+e))||!(!ta.retrieve||!ta.retrieve(e+".feature"))||!!(ta.m&&ta.m.feature&&ta.m.feature.enabled(e))),t}var o=/^ *(\w+) +in +([$_a-zA-Z][.$_\w]*)/,s=/^\//,c=/^[a-zA-Z:]*\/\//,u=/ctx\.(?:get\("(.*?)"\)|getPath\(false,\["(.*?)"\]\)),ctx,"h"(?:,\["(.*?)"\])?/,f=/","/g,g=/^\s|\s(?=\s|$)/g,h=e.helpers.eq.bind(e.helpers),p=e.helpers.select.bind(e.helpers),d=e.helpers.math.bind(e.helpers),b=function(r,t,n){return n.resolve?n.resolve(r):e.helpers.tap(r,t,n)},v={"pagination":["url"]};if("undefined"==typeof console&&(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}),e.helpers["if"]){var L=e.helpers["if"].bind(e.helpers);e.helpers["if"]=function(e,r,t,a){try{return L(e,r,t,a)}catch(t){return console.error("Error in @if statement: "+t.name+": "+t.message+".",'Condition "'+n(a.cond)+'"','evaluated to "'+b(a.cond,e,r)+'".'),e}}}e.helpers.select=function(e,r,t,n){var a=b(n.key,e,r);return 0==a?"0"===a&&(n.key=0):a==+a&&(n.key=+a),p(e,r,t,n)},e.helpers.math=function(e,r,t,n){var a=r.current();return n.inherit&&(n[n.inherit]="undefined"!=typeof a.selectKey?a.selectKey:a._dustFilterOptions.selectKey),d(e,r,t,n)},e.helpers.eq=function(e,r,t,n){var a=b(n.key,e,r),l=b(n.value,e,r);return a==+a&&(n.key=+a),l==+l&&(n.value=+l),h(e,r,t,n)},e.helpers.contains=function(e,r,t,n){if(!n.collection||!n.collection.indexOf)return console.error("@contains helper requires a valid 'collection' parameter"),e;var a=b(n.value,e,r);return"undefined"==typeof a?(console.error("@contains requires a 'value' parameter"),e):~n.collection.indexOf(a)?t.block(e,r):t["else"]?t["else"](e,r):e},e.helpers.range=function(e,r,n,a){var l=+b(a.begin,e,r);t(l)||(l=0);var i=+b(a.end,e,r);t(i)||console.error("@range requires an integral 'end' parameter");var o=+b(a.step,e,r);t(o)||(o=(i-l)/Math.abs(i-l));var s=o>0;try{for(var c=l;s?c<i:c>i;c+=o)r.stack.head.$val=c,e=n.block(e,r)}catch(e){console.error("Error in @range block",e.message)}return delete r.stack.head.$val,e},e.helpers.truncate=function(r,t,n,a){var l=e.escapeHtml(b(a.value,r,t))||"",i=b(a.length,r,t)||100,o=l.length<=i?l:l.slice(0,i-3).replace(/(?:\s*\&\S*|\s+)$/,"")+"...";return r.write(o)},e.helpers.localizeInt=function(e,r,t,n){var a=b(n.val,e,r)||0,l=a.toString().split("");if(l.length>3)if(l.reverse(),"en_IN"==r.global.LOCALE){a="";for(var i=",",o=0;o<l.length;o++)a=l[o]+a,o<l.length-1&&(o>=3&&(o-3)%2==1?a=i+a:o<3&&o%3==2&&(a=i+a))}else{a="";var i=",";"de"==r.global.LOCALE||"it"==r.global.LOCALE||"nl"==r.global.LOCALE||"br"==r.global.LOCALE||"es"==r.global.LOCALE||"es_AR"==r.global.LOCALE||"es_CL"==r.global.LOCALE||"es_CO"==r.global.LOCALE||"es_VE"==r.global.LOCALE||"fr_BE"==r.global.LOCALE||"pt"==r.global.LOCALE||"pt_BR"==r.global.LOCALE||"nl_BE"==r.global.LOCALE||"tr"==r.global.LOCALE||"da"==r.global.LOCALE||"el"==r.global.LOCALE||"id"==r.global.LOCALE||"vi"==r.global.LOCALE||"sr"==r.global.LOCALE?i=".":"fr"==r.global.LOCALE||"pl"==r.global.LOCALE||"en_ZA"==r.global.LOCALE||"de_AT"==r.global.LOCALE||"fr_CA"==r.global.LOCALE||"fr_CH"==r.global.LOCALE||"pt_PT"==r.global.LOCALE||"no"==r.global.LOCALE||"nb"==r.global.LOCALE||"ru"==r.global.LOCALE||"hu"==r.global.LOCALE||"sk"==r.global.LOCALE||"uk"==r.global.LOCALE||"cs"==r.global.LOCALE||"fi"==r.global.LOCALE||"in"==r.global.LOCALE?i=" ":"it_CH"!=r.global.LOCALE&&"de_CH"!=r.global.LOCALE||(i="'");for(var o=0;o<l.length;o++)a=l[o]+a,o%3==2&&o<l.length-1&&(a=i+a)}return e.write(a)},e.helpers.quotes=function(e,r,t,n){n=n||{};var a=b(n.italics,e,r)||"",l=r.global.IS_RTL?"&#x201d;":"&#x201c;",i=r.global.IS_RTL?"&#x201c;":"&#x201d;";return"true"==a&&(l="<i>"+l+"</i>",i="<i>"+i+"</i>"),e.write(l),e=t.block(e,r),e.write(i)},e.helpers.fbPic=function(e,r,t,n){var a=b(n.id,e,r),l=b(n.size,e,r);return e.write("<img "),a&&(e.write('src="//graph.facebook.com/'+a+"/picture?type=square"),l&&e.write("&width="+l+"&height="+l),e.write('" ')),e=t.block(e,r),e.write("/>")},e.helpers.img=function(e,r,t,n){var a=l(b(n.src,e,r),r);return e.write("<img "),a&&e.write('src="'+a+'" '),t.block&&(e=t.block(e,r)),e.write("/>")},e.helpers.maybeLazyImg=e.helpers.img,e.helpers.imgUrl=function(e,r,t,n){var a=l(b(n.src,e,r),r);return a&&e.write(a),t.block&&(e=t.block(e,r)),e},e.helpers.fittedImg=function(e,r,t,n){var a,l=b(n.src,e,r),i=b(n.height,e,r),o=b(n.width,e,r),s=l.url,c=l.height,u=l.width,f="",g="";return 0==u||0==c?f='style= "width:'+o+"px; height: "+i+'px;" ':i/c<o/u?(a=o/u,c=Math.floor(c*a),u=o,g=Math.floor((c-i)/2)*-1,f='style= "width:'+u+"px; height: "+c+"px; margin-top: "+g+'px;" '):(a=i/c,u=Math.floor(u*a),c=i,g=Math.floor((u-o)/2)*-1,f='style= "width: '+u+"px; height: "+c+"px; margin-left: "+g+'px; "'),e.write('<div style="height:'+i+"px; width:"+o+'px; overflow: hidden;" >'),s&&e.write('<img src="'+s+'" '+f+"/>"),e=t.block(e,r),e.write("</div>")},e.helpers.lazyimg=function(e,r,t,n){var a=b(n["class"],e,r),l=b(n.src,e,r);return e.write('<img class="lazy '+(a?a:"")+'" '),l&&("undefined"==typeof window?e.write('data-src="'+l+'" '):e.write('src="'+l+'" ')),e=t.block(e,r),e.write("/>")},e.helpers.avatar=function(e,r,t,n){var a=b(n.avatar,e,r),l=b(n.id,e,r),i=b(n["class"],e,r);return e.write('<div class="avatar '+i+'" '),a?e.write('style="background-image: url('+a+')">'):e.write('style="background-image: url(//graph.facebook.com/'+l+'/picture?type=square)">'),e.write("</div>")},e.helpers.pos=function(e,r,t,n){var a=n&&null!=n.start?n.start:1;return r.stack&&(r.stack.head.$pos=r.stack.index+a),t&&t.block&&(e=t.block(e,r)),e},e.helpers.bubbleRating=function(e,r,t,n){var a=b(n.value,e,r),l=b(n.ratingType,e,r)||"ss",i=a?1==a.toString().length?a.toString()+"0":10*a:null,o=b(n["class"],e,r);return a=+a,e.write('<div class="rate rate_'+l+" "+l+i+" "+(o?o:"")+'">'),e.write("<img "),e.write('src="'+r.global.CDN_HOST+'/img2/sprites/ratings-v6.png" '),e.write('class="sprite-ratings" alt="'),e.write(a+' of 5 stars" content="'+a+'" />'),e.write("</div>")},e.helpers.bubbleRatingSvg=function(e,r,t,n){var a=b(n.value,e,r),l=+b(n.multiplier,e,r)||20,i=a*l;return i=i<0?0:i>100?100:i,e.write('<div class="svgico bubblesempty">'),e.write('<div class="bubbles" style="width:'+i+'%;"><div class="svgico bubblesfull"></div></div>'),e.write("</div>")},e.helpers.bubbleNum=function(e,r,t,n){var a=b(n.value,e,r);return a=5*Math.round(2*Number(a)),a=Math.min(a,50),a=Math.max(a,0),a=String(100+a).substr(1),e.write(a)},e.helpers.removeNonDigits=function(e,r,t,n){var a=b(n.value,e,r);return e.write(a.replace(/[^0-9]/g,""))},e.helpers.digitize=function(r,n,a,l){var i=+b(l.value,r,n),o=+b(l.padding,r,n),s=t(i)?i.toString().split(""):[];t(o)||(o=0);var c=o-s.length;if(c>0)for(;c--;)s.unshift("0");for(var u=0;u<s.length;u++)r=a.block(r,e.makeBase({digit:s[u]}));return r},e.helpers.oxEach=function(e,r,n,a){if(r.stack.tail&&(!r.stack.head||!r.stack.head.__ox__))return console.error("Cannot call @oxEach within a section block"),e;var l,i=b(a.context,e,r),s=i.match(o),c=s[1],u=s[2].split("."),f=r.get(u[0]);for(l=1;f&&l<u.length;l++)f=f[u[l]];if(!f)return e;var g=b(a.name,e,r)||"each"+c.charAt(0).toUpperCase()+c.slice(1),h="begin"in a||"end"in a,p=+b(a.begin,e,r);(!t(p)||p<0)&&(p=0);var d=+b(a.end,e,r);d=isNaN(d)?null:d,null!=d&&(!t(d)||d<p)&&(console.error("Invalid @oxEach end index in collection"+u),d=null);var v=f.__offset__||0;for(e.write('<!-- @oxEach name="'+g+'" context="'+i+'"'),h&&(e.write(' begin="'+p+'"'),null!=d&&e.write(' end="'+d+'"')),e.write(" -->\n"),p-=v,d=null!=d?Math.min(d-v,f.length):f.length,l=p;l<d;l++){var L=f[l];if(!L){console.error("@oxEach requires non-null items in collection "+u);break}var w={};for(var m in r.stack.head)w[m]=r.stack.head[m];w[c]=L,w.$idx=l+v,w.$idx1=w.$idx+1,w.__ox__=!0,w=r.rebase(w),e=n.block(e,w)}return e.write("<!-- /oxEach -->\n"),e},e.helpers.oxContains=function(e,r,t,n){if(!n.collection||!n.collection.indexOf)return console.error("@oxContains helper requires a valid 'collection' parameter"),e;var l=b(n.key,e,r);if("undefined"==typeof l)return console.error("@oxContains requires a 'key' parameter"),e;var i=b(n.value,e,r);if("undefined"==typeof i)return console.error("@oxContains requires a 'value' parameter"),e;var o=function(e){return null!=e&&a(e,l)==i};return n.collection.filter(o).length>0?t.block(e,r):t["else"]?t["else"](e,r):e},e.helpers.oxSection=function(e,r,t,n){var a=b(n.namespace,e,r),l=b(n.nsid,e,r),i=b(n.tag,e,r)||"div";if("undefined"==typeof a)return console.error("@oxSection requires a valid 'namespace' parameter"),e;e.write("<"+i+' data-ox-section-name="'+a+'"'),"undefined"!=typeof l&&e.write(' data-ox-section-id="'+l+'"');for(var o in n)if("namespace"!==o&&"nsid"!==o&&"tag"!==o){var s=b(n[o],e,r);"undefined"!=typeof o&&"undefined"!=typeof s?e.write(" "+o+'="'+s+'"'):console.error("@oxSection key or value is undefined: "+o)}return e.write(" />\n"),e=t.block(e,r),e.write("</"+i+">\n"),e},e.helpers.substr=function(r,t,n,a){var l=e.escapeHtml(b(a.str,r,t))||"",i=b(a.begin,r,t)||0,o=b(a.end,r,t)||l.length,s=b(a.len,r,t)||l.length,c=b(a.underflow,r,t)||"",u=b(a.overflow,r,t)||"",f=(0==i?"":c)+(s<o-i?l.substr(i,s)+u:l.slice(i,o));return r.write(f)},e.helpers.increment=function(e,r,n,a){var l=+b(a.base,e,r),i=+b(a.addon,e,r);return t(l)||(l=0),t(i)||(i=0),r.stack.head.$increment_val=l+i,e=n.block(e,r),delete r.stack.head.$increment_val,e},e.helpers.pagination=function(e,r,n,a){var l,i=+b(a.offset,e,r),o=+b(a.limit,e,r),s=+b(a.total,e,r),c=+b(a.pageNumbers,e,r)||2,u=1+(s<=0?0:Math.floor(i/o)),f=n.url||a.url,g=Math.ceil(s/o);if(!t(i)||!t(o)||!t(s))return e;var h=[],p=[],d=function(t){var n="";if(f){var a=r.rebase({"pageNumber":t,"offset":(t-1)*o});n=b(f,e,a)}return{"pageNumber":t,"offset":(t-1)*o,"url":n}},v=function(e){h.push(d(e)),p.push(e)};if(g<=2*c+3)for(l=1;l*o<s+o;l+=1)v(l);else if(u<=Math.max(2*c,3))for(l=1;l<2*c+3;l++)v(l);else if(g-u<=2*c-1)for(l=g-2*c+1;l<=g;l++)v(l);else for(l=u-c;l<=u+c;l++)v(l);var L={previousPage:u>1?d(u-1):null,nextPage:u<g?d(u+1):null,firstPage:i<=0?null:d(1),lastPage:i+o>=s?null:d(Math.ceil(s/o)),containsFirstPage:p.indexOf(1)>=0,containsLastPage:p.indexOf(Math.ceil(s/o))>=0,currentPageNumber:u,pages:h};return L=r.rebase(L),e=n.block(e,L)},e.helpers.feature=function(e,r,t,n){var a=b(n.name,e,r),l=!n.hasOwnProperty("enabled")||b(n.enabled,e,r);if("undefined"==typeof a||!a||!a.trim())return console.error("@feature requires a 'name' parameter"),e;a=a.trim(),l&&(l="false"!==l.toString().trim());var o=i(a);return o===l?t.block(e,r):t["else"]?t["else"](e,r):e},e.helpers.dchoice=function(e,r,t,n){var a,l,i,o,s=r.global.LOCALE;return n=n||{},isNaN(parseInt(n.key),10)?e.write(""):(a=Math.abs(n.key),i=a%10,o=a%100,l="ru"===s?11!==o&&1===i?n.arg0:i>=2&&i<=4&&(o<=10||o>=20)?n.arg1:n.arg2:"cs"===s||"sk"===s?1===a?n.arg0:a>=2&&a<=4?n.arg1:n.arg2:"sr"===s||"uk"===s?a>=11&&a<=14?n.arg2:1===i?n.arg0:i>=2&&i<=4?n.arg1:n.arg2:"",e.write(l))},e.helpers.dchoice2=function(e,r,t,n){var a,l;return n=n||{},isNaN(parseInt(n.key),10)?e.write(""):(a=Math.abs(n.key),l=a%100!==11&&a%100%10===1?n.arg0:n.arg1,e.write(l))},e.helpers.localizeShowKeyOnHover=function(e,r,t,n){var a=i("DUST_LOCALIZE_SHOW_KEY_ON_HOVER");if(a){var l=b(n.key,e,r);e.write('<span class="ta-localized" title="'),l&&e.write(l),e.write('">')}return t.block&&(e=t.block(e,r)),a&&e.write("</span>"),e};var w=function(e){return function(r){return r.write(e)}};e.helpers.styleguide=function(e,r,t,n){var a={},l=b(n.component||t.component,e,r),i=v[l]||[],o={};for(var s in n)a[s]=i.indexOf(s)>=0?n[s]:b(n[s],e,r),o[s]=w(a[s]);for(var c in t)a[c]=i.indexOf(c)>=0?t[c]:b(t[c],e,r),o[c]=w(a[c]);return r=r.shiftBlocks(o).push(a),e.partial(r.global.LOCALE+"styleguide_"+l,r,a)}});
!function(e){"undefined"!=typeof exports?e(module.exports=require("dustjs-linkedin")):"undefined"!=typeof window&&window.define?define("dust-iterate-helper",["dust"],e):e(dust)}(function(e){e.helpers.iterate=function(r,n,t,o){function i(e,r){return e<r?1:e>r?-1:0}function s(e,t){return a(r,n.push({$key:e,$value:t,$type:typeof t}))}var l,u,f,p,d,h,a=t.block;o=o||{};var c=function(r,n,t){return t.resolve?t.resolve(r):e.helpers.tap(r,n,t)};if(o.key)if(d=c(o.key,r,n),a)if(o.sort){l=c(o.sort,r,n),u=[];for(p in d)d.hasOwnProperty(p)&&u.push(p);for(h=n.global[l],h||"desc"!==l||(h=i),h?u.sort(h):u.sort(),f=0;f<u.length;f++)r=s(u[f],d[u[f]])}else for(p in d)d.hasOwnProperty(p)&&(r=s(p,d[p]));else _console.log("Missing body block in the iter helper.");else _console.log("Missing parameter 'key' in the iter helper.");return r}});
!function(n){"undefined"!=typeof window&&window.define?define("dust-tracking-helper",["dust","dust-helpers"],n):n(dust)}(function(n,e){"use strict";e=e||n.helpers;var t=function(e,t,r){return r.resolve?r.resolve(e):n.helpers.tap(e,t,r)},r="__ttParentContext",o="dustTree",i="\\",u="/",a=/^([A-Z]{1,2}:)?[\\$-.\a-zA-Z_0-9|]+$/,l=/\\+$/,c=function(n){return n.global.__treeString},s=function(n){return n.global.__incrementingCounters},g=function(n,e,t){n.global.__incrementingCounters||(n.global.__incrementingCounters={}),n.global.__incrementingCounters[e]=t},f=function(n){var e=n.global.__treeString;return n.global.__treeString=null,n.global.__incrementingCounters={},e},_=function(n){var e=c(n),t=n.global[r];null==e&&(e=n.global.__treeString=[],n.global.__incrementingCounters={},("string"==typeof t||t instanceof String)&&t.length>0&&(t[t.length-1]===i?(e.push(t.substring(0,t.length-1)),e.push(i)):e.push(t)))},h=function(n,e,t){return t&&t.block&&(n=t.block(n,e)),n},b=function(n,e,t){e&&e.block&&n&&n.write(t)},p=function(n,e,t,r){var o=c(t),a=o.length;0===a||o[a-1]===i?o.push(n):(o.push(u),o.push(n)),b(e,r,"<!--trk"+n+"-->")},d=function(n,e,t){c(e).push(i),b(n,t,"<!--etk-->")},v=function(n,e,t,r){var o=m(n);return _(t),o&&p(n,e,t,r),e=h(e,t,r),o&&d(e,t,r),e},k=function(n){var e=c(n);return e?e.join(""):""},m=function(n){return("string"==typeof n||n instanceof String)&&a.test(n)};n.helpers.track=function(n,e,r,o){try{var i=t(o&&o.noTrack,n,e);if(i)return n=h(n,e,r);var u=t(o&&o.name,n,e);return v(u,n,e,r)}catch(n){console.error(n)}},n.helpers.trackTree=function(n,e,r,i){var u,a=t(i&&i.name,n,e),l=f(e),c=o;return _(e),n=h(n,e,r),u=k(e),n&&n.write&&(a&&(c=c+" "+a),n.write("<div class='"+c+"' data-tree='"+u+"'></div>")),e.global.__treeString=l,n},n.helpers.trackWithIncrementingValue=function(n,e,r,o){var i,u,a=t(o&&o.name,n,e),l=o.hasOwnProperty("offset")&&o.offset?t(o.offset,n,e):1,c=window.ta&&ta.retrieve&&ta.store?ta.retrieve("dust.continue_inc_track"):null;return a&&a.indexOf(":")<0&&(i=s(e),i||e&&e.global&&e.global.DEBUG&&console.warn("trackWithIncrementingValue outside of a @trackTree context."),u=i&&i[a]?i[a]+1:c&&c[a]?c[a]+1:l,g(e,a,u),a=a+":"+u,c&&ta.store("dust.continue_inc_track",i)),v(a,n,e,r)},n.tracking={TREE_CLASS:o,setParentTree:function(n,e){e&&e.global&&(e.global[r]=n)},cleanTree:function(n){return n?n.replace(l,""):n}}});
require(['ta/rollupAmdShim'], function(rollupAmdShim) {rollupAmdShim.install(["ta/Core/TA.Dust"],[]);});
if(window.requirejs && requirejs.taConfig)requirejs.taConfig({"deferred":{},"name":"build/concat/ta-dust","files":{"js3":{"src":{"ta":{"Core":{"TA.Dust":1}}}}},"_":{"baseUrl":"/"}});
define("ta/Core/TA.Dust",["vanillajs","ns-exporter","ta/util/Error","ta/util/Deferred","ta/Core/TA.Store"],function(e,r,t,n,u){"use strict";var d={},i=null,o=function(){if(null!=i)return i;try{return i=JSON.parse(u.retrieve("DUST_GLOBAL"))}catch(e){}return i=u.retrieve("DUST_GLOBAL_CONTEXT"),i?i:"undefined"!=typeof window&&window.DUST_GLOBAL?window.DUST_GLOBAL:require.defined("page-model")?require("page-model").DUST_GLOBAL:{}};d.render=function(e,r,n,u){var d=o(),i="string"==typeof n?document.querySelector(n):n,a=dust.makeBase(d).rebase(r);return!!(i&&e&&d.LOCALE&&dust)&&(dust.render(s(e),a,function(n,d){d?i.innerHTML=d:n&&t.record(n,"Error rendering dust template "+e),u&&u(r)}),!0)},d.renderToString=function(e,r){var u=o(),d=dust.makeBase(u).rebase(r),i=n(!0);return e&&u.LOCALE&&dust?(dust.render(s(e),d,function(r,n){n?i.resolve(n):r&&(t.record(r,"Error rendering dust template "+e),i.reject(r))}),i.promise()):(i.reject("Missing dependencies"),i.promise())};var s=function(e){var r=e.replace(/\//g,"_").replace(".dust",""),t=o().LOCALE;return t+r};return r.exportTo(d,"ta.dust"),d});
